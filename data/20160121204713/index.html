<!DOCTYPE html>
<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8"><title>Rubyでアプリケーションをつくる1</title><meta content="authenticity_token" name="csrf-param">
<meta content="Y2UzkG5GQl5jzIBq3nOdxAEomQen5uuix05BO4pPfYw=" name="csrf-token"><link href="favicon.ico" rel="icon" sizes="16x16 32x32 48x48 128x128 256x256">
<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head>
<body class="ng-scope" ng-app="techMaster"><div class="navbar main_header navbar-fixed-top navbar-default" role="navigation"><div class="container"><div class="navbar-header"><button aria-controls="navbar" aria-expanded="false" class="navbar-toggle collapsed" data-target="#navbar" data-toggle="collapse" type="button"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="http://master.tech-camp.in/" target="_self"><img src="logo.png"></a></div><div class="navbar-collapse collapse" id="navbar"><ul class="nav navbar-nav navbar-right"><li class="text">終了まであと<i class="limit_time">10</i>日</li><li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" id="profileDropdown" style="padding: 10px 7px; cursor: pointer;"><img class="nav-proimg" src="noimage.png">大宅 誠人</a><ul class="dropdown-menu" id="profileDropdown"><li><a class="mypage-link" href="http://master.tech-camp.in/users/mypage" target="_self">マイページを見る</a></li><li><a href="http://master.tech-camp.in/users" target="_self">十三期生一覧</a></li></ul></li></ul></div></div></div><div class=""></div><!-- ngView:  --><div class="ng-scope" ng-view=""><curriculum style="display: inline;" class="ng-scope">
  <div class="container" id="curriculum">
    <div class="row curriculum-inner">
      <div class="col-lg-12 main" ng-init="init()">
        <div ng-show="curriculum.image" class="page-header page" style="background-image: url('top.jpg');">
  <h1 class="ng-binding">
    プログラミングをはじめよう<small class="ng-binding">〜Rubyでアプリケーションをつくる1〜</small>
  </h1>
  <!-- ngIf: curriculum.image.description.length --><div style="" class="flickr_attr ng-binding ng-scope" ng-if="curriculum.image.description.length">
    ナイアガラの滝はカナダのオンタリオ州とアメリカのニューヨーク州を分ける国境となっている滝です。ナイアガラの滝は実は3つあり2つはアメリカ、1つはカナダです。アメリカのナイアガラの滝は正面から見ることができないため観光客の約90%がカナダのナイアガラの滝を見に訪れます。<a class="ng-binding" href="https://www.flickr.com/photos/rotarazona/15020805741" target="_top">Rosalba Tarazona - Niagara Falls</a>
  </div><!-- end ngIf: curriculum.image.description.length -->
</div>
      </div>
      <div class="col-md-9 col-sm-12" id="curriculumMainContainer">
        <div class="curriculum_content">
          <div class="curriculum_text ng-scope" compile-progress-notifier="willCompiledCurriculumText" ng-controller="CurriculumHintController"><h1 id="1" class="ng-scope">学習の目標</h1>

<h3 class="ng-scope">アプリケーション作成を通して、Rubyの基礎的な文法とプログラミングの流れを学ぶ</h3>

<p class="ng-scope">本章と次章では、実際に簡易なアプリケーションを作ります。その中で必要となった新しい知識を同時に学んでいきましょう。</p>

<h1 id="2" class="ng-scope">アプリケーションの作成準備</h1>

<p class="ng-scope">Rubyの実行方法、基礎文法を学習したので、実際に簡単なアプリケーションを作り上げてみましょう。<br>
まだターミナル上でしかRubyを実行できないので、ウェブアプリケーションほどの派手なものは作ることはができません。しかし機能だけなら、Rubyで十分実装が可能です。</p>

<h2 id="3" class="ng-scope">作成するアプリケーションの概要を確認しよう</h2>

<p class="ng-scope">今回は、Rubyで<strong>レビュー管理アプリケーション</strong>を作ってみましょう。</p>

<h3 class="ng-scope">レビュー管理アプリケーション</h3>

<p class="ng-scope">まずは今回作成するレビュー管理アプリケーションとはどのようなものなのかイメージを掴みましょう。<br>
レビュー管理アプリケーションで出来ることは以下の3つです。</p>

<ul class="ng-scope">
<li><strong>レビューを書くことができる</strong></li>
<li><strong>レビューを読むことができる</strong></li>
<li><strong>複数のレビューを管理できる</strong></li>
</ul>

<h3 class="ng-scope">アプリケーション各画面</h3>

<p class="ng-scope">まず、レビュー管理アプリケーションをターミナルで実行すると以下のメニュー画面がでてきます。</p>

<p class="ng-scope"><strong>メニュー画面</strong></p>

<div class="code-frame ng-scope" data-lang="bash">
<div class="code-lang"><span class="bold">ターミナル</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td>
<td class="code">
<div class="highlight"><pre><span class="nv">$ </span>ruby reviewApp.rb  <span class="c"># rubyの実行</span>
レビュー数：0
<span class="o">[</span>0<span class="o">]</span>レビューを書く
<span class="o">[</span>1<span class="o">]</span>レビューを読む
<span class="o">[</span>2<span class="o">]</span>アプリを終了する
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">レビューとは、映画や音楽の感想です。<br>
例えば、「映画」「時をかける少女」を見て、「とても面白かった！高校に戻りたくなる！」という感想を持ったとします。<br>
するとこのアプリケーションではメニューから[0]を選んで、以下の画面でレビューを書くことができます。</p>

<p class="ng-scope"><strong>0を入力</strong></p>

<div class="code-frame ng-scope" data-lang="bash">
<div class="code-lang"><span class="bold">ターミナル</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td>
<td class="code">
<div class="highlight"><pre>レビュー数：0
<span class="o">[</span>0<span class="o">]</span>レビューを書く
<span class="o">[</span>1<span class="o">]</span>レビューを読む
<span class="o">[</span>2<span class="o">]</span>アプリを終了する
<span class="hll">0
</span></pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope"><strong>レビュー入力画面</strong></p>

<div class="code-frame ng-scope" data-lang="bash">
<div class="code-lang"><span class="bold">ターミナル</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td>
<td class="code">
<div class="highlight"><pre>ジャンルを入力してください：
<span class="hll">映画
</span>タイトルを入力してください：
<span class="hll">時をかける少女
</span>感想を入力してください：
<span class="hll">とても面白かった！高校に戻りたくなる！
</span></pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">書いたレビューはもちろん読みたくなりますよね。メニューから[1]を入力するといままで書いたレビューがリストで表示されます。</p>

<p class="ng-scope"><strong>1を入力</strong></p>

<div class="code-frame ng-scope" data-lang="bash">
<div class="code-lang"><span class="bold">ターミナル</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td>
<td class="code">
<div class="highlight"><pre>レビュー数：1
<span class="o">[</span>0<span class="o">]</span>レビューを書く
<span class="o">[</span>1<span class="o">]</span>レビューを読む
<span class="o">[</span>2<span class="o">]</span>アプリを終了する
<span class="hll">1
</span></pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope"><strong>レビューのリスト表示</strong></p>

<div class="code-frame ng-scope" data-lang="bash">
<div class="code-lang"><span class="bold">ターミナル</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td>
<td class="code">
<div class="highlight"><pre><span class="o">[</span>0<span class="o">]</span>：スターウォーズのレビュー
<span class="o">[</span>1<span class="o">]</span>：Tommorow never knowsのレビュー
<span class="o">[</span>2<span class="o">]</span>：時をかける少女のレビュー
<span class="o">[</span>3<span class="o">]</span>：東京グールのレビュー

見たいレビューの番号を入力してください：
　　
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">そのリストの中から読みたいレビューの番号を指定することでレビューが読めます。</p>

<p class="ng-scope"><strong>2を入力</strong></p>

<div class="code-frame ng-scope" data-lang="bash">
<div class="code-lang"><span class="bold">ターミナル</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td>
<td class="code">
<div class="highlight"><pre><span class="o">[</span>0<span class="o">]</span>：スターウォーズのレビュー
<span class="o">[</span>1<span class="o">]</span>：Tommorow never knowsのレビュー
<span class="o">[</span>2<span class="o">]</span>：時をかける少女のレビュー
<span class="o">[</span>3<span class="o">]</span>：東京グールのレビュー

見たいレビューの番号を入力してください：
<span class="hll">2
</span></pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope"><strong>レビューを読む画面</strong></p>

<div class="code-frame ng-scope" data-lang="bash">
<div class="code-lang"><span class="bold">ターミナル</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td>
<td class="code">
<div class="highlight"><pre>ジャンル : 映画
---------------------------
タイトル : 時をかける少女
---------------------------
感想 :
とても面白かった！高校に戻りたくなる！
---------------------------
</pre></div>
</td>
</tr></tbody></table>
</div>

<h2 id="4" class="ng-scope">見本を確認しよう</h2>

<p class="ng-scope">続いて、見本となるソースコードを確認し、実際に動作させてみましょう。<br>
以下のリンクにアクセスしてください。見本のソースコードをダウンロードすることができます。</p>

<p class="ng-scope"><a href="http://master.tech-camp.in/filedownload/6" target="_top">見本のソースコードはここからダウンロード</a></p>

<p class="ng-scope">ダウンロードしたファイルは初期設定では<strong>ダウンロードフォルダ</strong>に入っています。「Finder」を開いてサイドバーにあるダウンロードに移動してください。<strong>reviewApp-sample.rb</strong>というRubyファイルが入っているでしょうか。それが見本のソースコードです。</p>

<p class="ng-scope"><img src="ruby3-download.png" alt="ダウンロード" title="ダウンロード"></p>

<p class="ng-scope">このソースコードを<strong>Desktopに移動</strong>させましょう。クリックをしつつドラッグすると、ファイルを移動することができます。その後、見本のソースコードをrubyコマンドで実行しましょう。</p>

<h3 class="ng-scope">
<i class="icon pen"></i> reviewApp-sample.rbを以下の手順に従って実行しましょう</h3>

<div class="code-frame ng-scope" data-lang="bash">
<div class="code-lang"><span class="bold">ターミナル</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="c"># 「cdコマンド」を使って、デスクトップに移動</span>
  <span class="nv">$ </span><span class="nb">cd</span> ~/Desktop
  <span class="c"># 「reviewApp-sample.rb」を実行</span>
  <span class="nv">$ </span>ruby reviewApp-sample.rb
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">実行できたら、「作成するアプリケーションの概要を確認しよう」の項で紹介した動作ができるか、確認してみましょう。</p>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="60" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_01"></i>作業チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-79" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-79" name="check-79" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">見本のソースコードreviewApp-sample.rbを実行できた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="5" class="ng-scope">実装のステップを確認しよう</h2>

<p class="ng-scope">今回は細かく<strong>7つのSTEP</strong>に分けてこのアプリケーションを実装していきます。</p>

<ul class="ng-scope">
<li><p><strong>STEP1 : レビューを表示させてみよう</strong></p></li>
<li><p><strong>STEP2 : レビューを書けるようにしよう</strong></p></li>
<li><p><strong>STEP3 : ハッシュを使って情報を整理しよう</strong></p></li>
<li><p><strong>STEP4 : メニュー画面をつくろう</strong></p></li>
<li><p><strong>STEP5 : レビューを書いた後メニューに戻るようにしよう</strong></p></li>
<li><p><strong>STEP6 : レビューを複数書けるようにしよう</strong></p></li>
<li><p><strong>STEP7 : レビューを読めるようにしよう</strong></p></li>
</ul>

<p class="ng-scope">このアプリケーションが完成したときにはRubyの基本は押さえたといってもいいでしょう。さらに複雑なアプリケーションを開発できるようになっているはずです。</p>

<h1 id="6" class="ng-scope">STEP0 : 準備</h1>

<p class="ng-scope">アプリケーションを開発する前の準備としてプログラムを書くためのファイルを作成します。</p>

<h2 id="7" class="ng-scope">アプリケーション用のRubyファイルを作成する</h2>

<p class="ng-scope">今回は全STEPを通して1つのアプリケーションを作成していきます。<br>
よってアプリケーション用のRubyファイルを作成し、適宜そのファイルを編集をしていきましょう。名前は<strong>reviewApp.rb</strong>にします。</p>

<p class="ng-scope"><i class="icon pen"></i> <strong>デスクトップにレビュー管理アプリケーション用のRubyファイル「reviewApp.rb」を作成してください。</strong></p>

<p class="ng-scope">このファイルを編集、追記しながら各STEPを進めていきましょう。</p>

<h2 id="8" class="ng-scope">サンプルソースコード用のRubyファイルを作成する</h2>

<p class="ng-scope">また、今回はアプリケーション以外にも文法の学習などでサンプルのコードを書いてもらうことがあります。そうしたときにアプリケーション用のファイルreviewApp.rbには書きたくないので別のRubyファイルを用意します。名前は<strong>sample.rb</strong>にしましょう。</p>

<p class="ng-scope"><i class="icon pen"></i> <strong>デスクトップにサンプルソースコード用のRubyファイル「sample.rb」を作成してください。</strong></p>

<p class="ng-scope"><img src="ruby3-rubyfile.png" alt="Rubyファイル" title="Rubyファイル"></p>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="61" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_01"></i>作業チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-80" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-80" name="check-80" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">デスクトップに<code>reviewApp.rb</code>と<code>sample.rb</code>を作成できた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="9" class="ng-scope">この章での作業の進め方</h2>

<p class="ng-scope">レビュー管理アプリケーションの実装、つまりreviewApp.rbに作業をする場合は以下のように<strong>reviewApp.rb</strong>を指定します。</p>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">reviewApp.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="c1"># レビュー管理アプリケーション</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">それ以外で、ソースコードを書いて実行して欲しいときには以下のように<strong>sample.rb</strong>を指定します。</p>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">sample.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="c1"># レビュー管理アプリケーション以外のソースコード</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope"><i class="icon attention"></i> <strong>sample.rbは作業ごとにすでに書いてあるソースコードをすべて消して新しく書き直してください。reviewApp.rbは編集、追記していくので途中で消してはいけません。</strong></p>

<p class="ng-scope">作業をするときはファイル名にも注目するようにしてください。実行のときもファイルを間違えないよう気をつけましょう。</p>

<p class="ng-scope">では、いよいよアプリケーションの実装をはじめていきます。</p>

<h1 id="10" class="ng-scope">STEP1 : レビューを表示させてみよう</h1>

<p class="ng-scope">最初のSTEPとして入力はせずに単に決められたレビューを表示するようにしましょう。</p>

<h2 id="11" class="ng-scope">このSTEPでできるようになること</h2>

<ul class="ng-scope">
<li><strong>ターミナルに文字を出力できる</strong></li>
<li><strong>複雑な文字を出力できる</strong></li>
</ul>

<h2 id="12" class="ng-scope">決められたレビューを表示しよう</h2>

<p class="ng-scope">まずはこちらで指定したレビューを表示しましょう。<br>
指定のレビューは以下です。</p>

<ul class="ng-scope">
<li>ジャンル
<strong>映画</strong>
</li>
<li>タイトル
<strong>時をかける少女</strong>
</li>
<li>感想
<strong>人生の最高傑作アニメ。</strong><br><br>
<strong>青春厨としてはたまらない甘酸っぱい青春ストーリー。</strong><br><br>
<strong>ちあきのイケメンさは言うまでもない。</strong><br><br>
<strong>人にお金を払ってでもみて欲しい作品。</strong><br><br>
<strong>早く見たほうがいいよ。</strong><br>
<strong>Time waits for no one.</strong>
</li>
</ul>

<p class="ng-scope">以下のようにターミナルに表示することを目指します。</p>

<div class="code-frame ng-scope" data-lang="bash">
<div class="code-lang"><span class="bold">ターミナル</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td>
<td class="code">
<div class="highlight"><pre><span class="nv">$ </span>ruby reviewApp.rb           <span class="c"># rubyの実行</span>
ジャンル : 映画
---------------------------
タイトル : 時をかける少女
---------------------------
感想 :
人生の最高傑作アニメ。

青春厨としてはたまらない甘酸っぱい青春ストーリー。

ちあきのイケメンさは言うまでもない。

人にお金を払ってでもみて欲しい作品。

早く見たほうがいいよ。
Time waits <span class="k">for</span> no one.
---------------------------
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">では、まずは自力でソースコードを書いてみましょう。編集するファイルはreviewApp.rbです。書けたら</p>

<div class="code-frame ng-scope" data-lang="bash">
<div class="code-lang"><span class="bold">ターミナル</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1</pre></div></td>
<td class="code">
<div class="highlight"><pre><span class="nv">$ </span>ruby reviewApp.rb
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">で実行してみましょう。また、レビューの文章はコピーして使ってもかまいません。</p>

<div class="challenge ng-scope">
  <h3>
<i class="icon crown"></i> 問題1：以下のようにレビューをターミナル上に表示しましょう</h3>
  <div class="challenge_box">

  <div class="code-frame" data-lang="bash"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td>
<td class="code">
<div class="highlight"><pre>    
      ジャンル : 映画
      ---------------------------
      タイトル : 時をかける少女
      ---------------------------
      感想 :
      人生の最高傑作アニメ。

      青春厨としてはたまらない甘酸っぱい青春ストーリー。

      ちあきのイケメンさは言うまでもない。

      人にお金を払ってでもみて欲しい作品。

      早く見たほうがいいよ。
      Time waits <span class="k">for</span> no one.
      ---------------------------
    
    
</pre></div>
</td>
</tr></tbody></table></div>

    <h5>作業ファイル：reviewApp.rb</h5>
    <h5>ヒント：出力には今まで通り「puts」を使いましょう</h5>
    <curriculum-question-container class="ng-scope" data-order="1"><button style="" class="answer ng-hide" ng-click="show_answer()" ng-show="isSolved">解答と解説を見る</button><button class="solve ng-binding" ng-click="solve()" ng-hide="isSolved">課題を解く</button><button style="" class="solved ng-hide" ng-click="solved()" ng-show="isSolving">解けた</button>
</curriculum-question-container>
  </div>
</div>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="62" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_02"></i>課題チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-81" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-81" name="check-81" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">指定された通りにレビューをターミナル上に表示できた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<p class="ng-scope">解答のソースコードと同じだったでしょうか。違う方もいるかもしれないですが表示がきちんとされていれば正解です。<strong>解答のソースコードはあくまで模範解答です。</strong><br>
しかし解答のソースコード(模範解答1)を見るとputsが大量で、あまり綺麗ではなく、分かりづらいです。</p>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="63" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_00"></i>要点チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-82" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-82" name="check-82" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">putsメソッドは最後に自動で改行する</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="13" class="ng-scope">ソースコードを改善しよう</h2>

<p class="ng-scope">ここで改善できそうな点は2つです。</p>

<ul class="ng-scope">
<li><strong>puts内で改行ができるようにする</strong></li>
<li><strong>変数を使うようにする(わかりやすいソースコードにする、同じことを繰り返し書いている部分をなくすため)</strong></li>
</ul>

<p class="ng-scope">ひとつずつ見ていきましょう。</p>

<h2 id="14" class="ng-scope">puts内で改行をする</h2>

<p class="ng-scope">まず、putsで改行を使えるようにしましょう。解答では改行を以下のコードで行っています。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="nb">puts</span> <span class="s2">""</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope">これでは改行していると分かりづらいですし、改行のたびにputsを書かないといけません。</p>

<p class="ng-scope">しかしこのような書き方をしなくても<strong>改行を表す文字</strong>で代用することが可能です。<br>
このような特殊な文字を記述するために使われるのが<strong>バックスラッシュ記法</strong>(またはエスケープシークエンス)です。</p>

<h2 id="15" class="ng-scope">バックスラッシュ記法を使おう</h2>

<h3 class="ng-scope">
<i class="icon information" id="term_116"></i> バックスラッシュ記法</h3>

<p class="ng-scope">バックスラッシュ記法はその名前の通り、<strong>\(バックスラッシュ)</strong>から始まる文字の記法のことです。<br>
ウィンドウズ環境ではバックスラッシュの代わりに￥記号で代用します。<br>
日本語キーボードを使っている方は<strong>「option + ￥」</strong>でバックスラッシュを打つことが出来ます。</p>

<p class="ng-scope">この記法を使うと文字列の中でただの文字ではなく改行や、タブなどを行うようになります。<br>
代表的なバックスラッシュ記法は以下に示します。</p>

<table class="ng-scope">
<thead>
<tr>
<th style="text-align: center;">記法</th>
<th style="text-align: center;">意味</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">\n</td>
<td style="text-align: center;">改行</td>
</tr>
<tr>
<td style="text-align: center;">\t</td>
<td style="text-align: center;">タブ</td>
</tr>
<tr>
<td style="text-align: center;">\b</td>
<td style="text-align: center;">バックスペース</td>
</tr>
<tr>
<td style="text-align: center;">\\</td>
<td style="text-align: center;">バックスラッシュ</td>
</tr>
</tbody>
</table>

<p class="ng-scope"><br></p>

<hr class="ng-scope">

<p class="ng-scope"><i class="icon attention"></i> バックスラッシュ記法が適応されるのは文字を<strong>"(ダブルクォテーション)で囲んだときのみ</strong>です。'(シングルクォテーション)で囲ってしまうとバックスラッシュ記法は解釈されずにただの文字として出力されてしまいます。</p>

<p class="ng-scope">以下のプログラムを実行してバックスラッシュ記法の理解を深めましょう。</p>

<p class="ng-scope"><i class="icon pen"></i> <strong>以下のソースコードをsample.rbに書き、実行してみましょう</strong></p>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">sample.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="nb">puts</span> <span class="s2">"改行したい改行したい</span><span class="se">\n</span><span class="s2">改行した"</span>
  <span class="nb">puts</span> <span class="s2">"タブしたいタブしたい</span><span class="se">\t</span><span class="s2">タブした"</span>

  <span class="nb">puts</span> <span class="s1">'改行したい改行したい\n改行できなかった'</span>
  <span class="nb">puts</span> <span class="s1">'タブしたいタブしたい\tタブできなかった'</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">ダブルクォテーションで囲んだ文字列はちゃんとバックスラッシュ記法で書いた文字が適応されています。<br>
しかし<strong>シングルクォテーションで囲んだ文字列の方はただの文字として出力されてしまっている</strong>のがわかりましたね。</p>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="64" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_00"></i>要点チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-83" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-83" name="check-83" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">バックスラッシュ記法とは\から始まる特殊な文字を出力するための記法</span></label><!-- end ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-84" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-84" name="check-84" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">バックスラッシュ記法が適応されるのは文字をダブルクォテーションで囲んだときだけ</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="16" class="ng-scope">バックスラッシュ記法で改行してみよう</h2>

<p class="ng-scope">バックスラッシュ記法を使ってソースコードを書き直してみましょう。先ほどまで</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="nb">puts</span> <span class="s2">""</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope">と書いていた部分はすべてバックスラッシュ記法での改行<code>\n</code>に置き換えることができます。以下の２つのソースコードは同じ結果が出力されます。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="nb">puts</span> <span class="s2">"吾輩は猫である"</span>
  <span class="nb">puts</span> <span class="s2">""</span>
  <span class="nb">puts</span> <span class="s2">"名前はまだない"</span>
</pre></div>
</td>
</tr></tbody></table></div>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="nb">puts</span> <span class="s2">"吾輩は猫である</span><span class="se">\n</span><span class="s2">名前はまだない"</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope">このようにreviewApp.rbで<code>puts ""</code>と書かれていた行を<code>\n</code>で書き直してみましょう</p>

<div class="challenge ng-scope">
  <h3>
<i class="icon crown"></i> 問題2：改行をバックスラッシュ記法で書き直してみましょう</h3>
  <div class="challenge_box">
    <h5>作業ファイル：reviewApp.rb</h5>
    <h5>ヒント：特になし</h5>
    <curriculum-question-container class="ng-scope" data-order="2"><button style="" class="answer ng-hide" ng-click="show_answer()" ng-show="isSolved">解答と解説を見る</button><button class="solve ng-binding" ng-click="solve()" ng-hide="isSolved">課題を解く</button><button style="" class="solved ng-hide" ng-click="solved()" ng-show="isSolving">解けた</button>
</curriculum-question-container>
  </div>
</div>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="65" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_02"></i>課題チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-85" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-85" name="check-85" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">改行をバックスラッシュ記法を使った書き方に直すことができた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="17" class="ng-scope">変数を使おう</h2>

<p class="ng-scope">次に、変数です。変数は入れ物としての役割の他に<strong>オブジェクトに名前をつける</strong>という役割があります。<br>
変数を定義するとその分ソースコードは長くなってしまうのですが<strong>見やすくなるので積極的に使っていくべき</strong>です。</p>

<p class="ng-scope">例をみてみましょう。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="nb">puts</span> <span class="mi">200</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">100</span> <span class="o">*</span> <span class="mi">5</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope">これは単なる計算のプログラムですが、今のままでは<strong>何を計算しているかはわかりません</strong>。しかし変数を使うことでこのプログラムに意味を与えることが出来ます。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="n">orange_price</span> <span class="o">=</span> <span class="mi">200</span>
  <span class="n">apple_price</span> <span class="o">=</span> <span class="mi">100</span>

  <span class="nb">puts</span> <span class="n">orange_price</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">apple_price</span> <span class="o">*</span> <span class="mi">5</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope">これでこのプログラムは「<strong>200円のオレンジを2個、100円のりんごを5個買ったときの合計金額を表示する</strong>」プログラムということがわかります。一度、変数に値を入れるという手間はかかりますがプログラムが非常に見やすくなります。</p>

<p class="ng-scope">さらに以下のようなときにも変数はとても便利です。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="n">orange_price</span> <span class="o">=</span> <span class="mi">200</span>
  <span class="n">apple_price</span> <span class="o">=</span> <span class="mi">100</span>

  <span class="nb">puts</span> <span class="n">orange_price</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">apple_price</span> <span class="o">*</span> <span class="mi">5</span>

  <span class="nb">puts</span> <span class="n">orange_price</span> <span class="o">*</span> <span class="mi">4</span>

  <span class="nb">puts</span> <span class="n">orange_price</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">apple_price</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope">プログラム中で何度も同じ値を使っています。こういう場合は変数に入れたほうがいいです。なぜならオレンジの価格が値上がりした場合、<strong>変数に代入している部分<code>orange_price = 200</code>を書き換えるだけで済むから</strong>です。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="n">orange_price</span> <span class="o">=</span> <span class="mi">220</span> <span class="c1"># ここを書き換えるだけで済む</span>
  <span class="n">apple_price</span> <span class="o">=</span> <span class="mi">100</span>

  <span class="nb">puts</span> <span class="n">orange_price</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">apple_price</span> <span class="o">*</span> <span class="mi">5</span>

  <span class="nb">puts</span> <span class="n">orange_price</span> <span class="o">*</span> <span class="mi">4</span>

  <span class="nb">puts</span> <span class="n">orange_price</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">apple_price</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="66" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_00"></i>要点チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-86" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-86" name="check-86" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">変数を使うことでその値が何なのかわかりやすいソースコードになる</span></label><!-- end ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-87" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-87" name="check-87" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">プログラム中で何度も使うような値は変数に入れた方がいい</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="18" class="ng-scope">reviewApp.rbで変数を使おう</h2>

<p class="ng-scope">reviewApp.rbも変数にできそうな部分は変数を使いましょう。ここでは</p>

<ul class="ng-scope">
<li>ジャンル</li>
<li>タイトル</li>
<li>感想</li>
</ul>

<p class="ng-scope">の各値をそれぞれ変数にしましょう。</p>

<table class="ng-scope">
<thead>
<tr>
<th style="text-align: center;">値</th>
<th style="text-align: center;">変数名</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">ジャンル</td>
<td style="text-align: center;">genre</td>
</tr>
<tr>
<td style="text-align: center;">タイトル</td>
<td style="text-align: center;">title</td>
</tr>
<tr>
<td style="text-align: center;">感想</td>
<td style="text-align: center;">review</td>
</tr>
</tbody>
</table>

<div class="challenge ng-scope">
  <h3>
<i class="icon crown"></i> 問題3：レビューの「ジャンル」「タイトル」「感想」をそれぞれ変数に入れて使ってみましょう</h3>
  <div class="challenge_box">
    <h5>作業ファイル：reviewApp.rb</h5>
    <h5>ヒント：実は「ジャンル」「タイトル」「感想」の3つ以外にも変数にすると便利なものがあります</h5>
    <curriculum-question-container class="ng-scope" data-order="3"><button style="" class="answer ng-hide" ng-click="show_answer()" ng-show="isSolved">解答と解説を見る</button><button class="solve ng-binding" ng-click="solve()" ng-hide="isSolved">課題を解く</button><button style="" class="solved ng-hide" ng-click="solved()" ng-show="isSolving">解けた</button>
</curriculum-question-container>
  </div>
</div>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="67" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_02"></i>課題チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-88" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-88" name="check-88" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">レビューの「ジャンル」、「タイトル」、「感想」を変数にして書き直せた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="19" class="ng-scope">式展開を使ってみよう</h2>

<p class="ng-scope">文字列の連結には今は<strong>+(プラス)</strong>を使っています。しかし、文字同士の連結はRubyの<strong>式展開</strong>を使えばより綺麗に書けます。<br>
式展開は文字列の中に<strong>式</strong>を入れることができる機能です。</p>

<h3 class="ng-scope">
<i class="icon information" id="term_117"></i> 式</h3>

<p class="ng-scope">Rubyにおける「式」とは文字列や数値の他に、変数やメソッド呼び出し、演算子式などが含まれます。<br>
すなわち"文字列", 1000, (1 + 5)などはすべて式になります。</p>

<h3 class="ng-scope">
<i class="icon information" id="term_118"></i> 式展開</h3>

<p class="ng-scope">Rubyの2章でも学習しましたがここでもう一度おさらいしましょう。文字列の中で式を使い、式によって得られる値を入れることのできる機能です。式展開の書き方は文字列中で<strong>#{式}</strong>とするだけです。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="s2">"</span><span class="si">#{</span><span class="err">式</span><span class="si">}</span><span class="s2">"</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope"><i class="icon attention"></i> 式展開をする場合は文字列を作るときに<strong>"(ダブルクォテーション)で囲む必要があります</strong>。'(シングルクォテーション)で囲んだ場合は式展開が行われません。</p>

<p class="ng-scope"><i class="icon pen"></i> <strong>以下のソースコードをsample.rbに書き、実行してみましょう</strong></p>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">sample.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="nb">name</span> <span class="o">=</span> <span class="s2">"佐藤"</span>

  <span class="nb">puts</span> <span class="s2">"わたしの名前は</span><span class="si">#{</span><span class="nb">name</span><span class="si">}</span><span class="s2">です。"</span>
  <span class="nb">puts</span> <span class="s2">"1と3を足した値は</span><span class="si">#{</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span><span class="si">}</span><span class="s2">です"</span>

  <span class="c1"># シングルクォテーション</span>
  <span class="nb">puts</span> <span class="s1">'わたしの名前は#{name}です。'</span>
  <span class="nb">puts</span> <span class="s1">'1と3を足した値は#{(1 + 3)}です'</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">式展開によって、ダブルクォテーションで囲んだ3行目と4行目は「わたしの名前は佐藤です」、「1と3を足した値は4です」となりましたね。また、<strong>'(シングルクォテーション)で囲んだ場合は式展開されない</strong>ことがわかったと思います。</p>

<hr class="ng-scope">

<p class="ng-scope"><strong>ダブルクォテーションで囲んだ場合</strong></p>

<div class="code-frame ng-scope" data-lang="bash">
<div class="code-lang"><span class="bold">ターミナル</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td>
<td class="code">
<div class="highlight"><pre>わたしの名前は佐藤です
1と3を足した値は4です
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope"><strong>シングルクォテーションで囲んだ場合</strong></p>

<div class="code-frame ng-scope" data-lang="bash">
<div class="code-lang"><span class="bold">ターミナル</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td>
<td class="code">
<div class="highlight"><pre>わたしの名前は#<span class="o">{</span>name<span class="o">}</span>です
1と3を足した値は#<span class="o">{(</span><span class="m">1</span> + 3<span class="o">)}</span>です
</pre></div>
</td>
</tr></tbody></table>
</div>

<hr class="ng-scope">

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="68" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_00"></i>要点チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-89" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-89" name="check-89" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">式とはRubyにおける文字列や数値などのオブジェクト、さらに変数やメソッド呼び出し、演算子式のことをいう</span></label><!-- end ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-90" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-90" name="check-90" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">式展開を使えば、文字列の中に式をそのまま入れることが出来る</span></label><!-- end ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-91" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-91" name="check-91" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">式展開が使えるのは文字をダブルクォテーションで囲んだときのみ</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="20" class="ng-scope">文字列の結合を+から式展開に変えてみよう</h2>

<p class="ng-scope">では、reviewApp.rbのソースコードで文字列の結合を行っている部分を+から式展開に変更してみましょう。</p>

<div class="challenge ng-scope">
  <h3>
<i class="icon crown"></i> 問題4：文字列の結合を+から式展開に変更してみよう</h3>
  <div class="challenge_box">
    <h5>作業ファイル：reviewApp.rb</h5>
    <h5>ヒント：+を使っているところ以外にも式展開を使えるところを探してみましょう</h5>
    <curriculum-question-container class="ng-scope" data-order="4"><button style="" class="answer ng-hide" ng-click="show_answer()" ng-show="isSolved">解答と解説を見る</button><button class="solve ng-binding" ng-click="solve()" ng-hide="isSolved">課題を解く</button><button style="" class="solved ng-hide" ng-click="solved()" ng-show="isSolving">解けた</button>
</curriculum-question-container>
  </div>
</div>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="69" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_02"></i>課題チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-92" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-92" name="check-92" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">文字列の結合を式展開を使った方法に書き直せた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="21" class="ng-scope">STEP1完成ソースコード</h2>

<p class="ng-scope">これでSTEP1は終了です。ここまでのreviewApp.rbのソースコードをのせておきます。比較して確認してみてください。</p>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">reviewApp.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="c1"># 変数の定義</span>
  <span class="n">genre</span> <span class="o">=</span> <span class="s2">"映画"</span>
  <span class="n">title</span> <span class="o">=</span> <span class="s2">"時をかける少女"</span>
  <span class="n">review</span> <span class="o">=</span> <span class="s2">"人生の最高傑作アニメ。</span><span class="se">\n\n</span><span class="s2">青春厨としてはたまらない甘酸っぱい青春ストーリー。</span><span class="se">\n\n</span><span class="s2">ちあきのイケメンさは言うまでもない。</span><span class="se">\n\n</span><span class="s2">人にお金を払ってでもみて欲しい作品。</span><span class="se">\n\n</span><span class="s2">早く見たほうがいいよ。</span><span class="se">\n</span><span class="s2">Time waits for no one."</span>
  <span class="n">line</span> <span class="o">=</span> <span class="s2">"---------------------------"</span>

  <span class="c1"># レビューの描画</span>
  <span class="nb">puts</span> <span class="s2">"ジャンル : </span><span class="si">#{</span><span class="n">genre</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span>
  <span class="nb">puts</span> <span class="s2">"タイトル : </span><span class="si">#{</span><span class="n">title</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span>
  <span class="nb">puts</span> <span class="s2">"感想 :</span><span class="se">\n</span><span class="si">#{</span><span class="n">review</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope"><br></p>

<h3 class="ng-scope">■ 処理の流れ</h3>

<p class="ng-scope">ここで処理の流れをおさらいします。</p>

<ul class="ng-scope">
<li>2行目から5行目</li>
</ul>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">reviewApp.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>2
3
4
5</pre></div></td>
<td class="code">
<div class="highlight"><pre>    <span class="n">genre</span> <span class="o">=</span> <span class="s2">"映画"</span>
    <span class="n">title</span> <span class="o">=</span> <span class="s2">"時をかける少女"</span>
    <span class="n">review</span> <span class="o">=</span> <span class="s2">"人生の最高傑作アニメ。</span><span class="se">\n\n</span><span class="s2">青春厨としてはたまらない甘酸っぱい青春ストーリー。</span><span class="se">\n\n</span><span class="s2">ちあきのイケメンさは言うまでもない。</span><span class="se">\n\n</span><span class="s2">人にお金を払ってでもみて欲しい作品。</span><span class="se">\n\n</span><span class="s2">早く見たほうがいいよ。</span><span class="se">\n</span><span class="s2">Time waits for no one."</span>
    <span class="n">line</span> <span class="o">=</span> <span class="s2">"---------------------------"</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">2行目から5行目ではレビューに必要な情報を<strong>変数</strong>に代入しています。区切り線も繰り返し同じ文字を使うので変数に入れておきます。</p>

<ul class="ng-scope">
<li>8行目から10行目</li>
</ul>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">reviewApp.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre> 8
 9
10</pre></div></td>
<td class="code">
<div class="highlight"><pre>    <span class="nb">puts</span> <span class="s2">"ジャンル : </span><span class="si">#{</span><span class="n">genre</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span>
    <span class="nb">puts</span> <span class="s2">"タイトル : </span><span class="si">#{</span><span class="n">title</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span>
    <span class="nb">puts</span> <span class="s2">"感想 :</span><span class="se">\n</span><span class="si">#{</span><span class="n">review</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope"><code>puts</code>メソッドを使ってレビューをターミナルで表示させます。このとき<strong>式展開</strong>を使って、文字列のなかで先ほど2行目から5行目で生成した変数を使用します。</p>

<p class="ng-scope"><br></p>

<p class="ng-scope">このようなソースコードが書けたらSTEP2へ進みましょう。</p>

<h1 id="22" class="ng-scope">STEP2 : レビューを書けるようにしよう</h1>

<p class="ng-scope">STEP1ではレビューはあらかじめ決められたものを使用しました。<br>
次は実際に<strong>自分でレビューを入力</strong>してそのレビューを表示させるようにしましょう。<br>
実装するレビューの入力画面は以下のような画面です。</p>

<p class="ng-scope"><br></p>

<p class="ng-scope"><img src="ruby3-post-trantion.png" alt="PostTrantion" title="PostTrantion"></p>

<h2 id="23" class="ng-scope">このSTEPでできるようになること</h2>

<ul class="ng-scope">
<li><strong>ターミナルから文字を入力できるようにする</strong></li>
<li><strong>ターミナルから入力した文字列を操作する</strong></li>
</ul>

<h2 id="24" class="ng-scope">ターミナルから文字を入力できるようにしよう</h2>

<p class="ng-scope">いままではターミナルに文字を出力できるようにするだけで、こちらからターミナルに入力することはできませんでした。<br>
ターミナルから文字を入力できるようにするには<strong>getsメソッド</strong>を使います。</p>

<h3 class="ng-scope">
<i class="icon information" id="term_119"></i> getsメソッド</h3>

<p class="ng-scope">getsメソッドはユーザーからターミナルへ入力できるようにするメソッドです。ユーザーが入力した値を文字列オブジェクトとしてプログラムに渡します。(<strong>返り値はユーザーが入力した値の文字列オブジェクト</strong>)</p>

<p class="ng-scope">getsメソッドが呼ばれると<strong>ターミナル画面は入力待ちの状態になります</strong>。<br>
そこでキーボードから値を入力してエンターを押すと、getsメソッドは入力した文字をプログラムに返します。</p>

<h3 class="ng-scope">
<i class="icon attention"></i>ターミナル上では日本語入力ができないため、getsメソッドで入力待ちになった際は英語かローマ字での入力をお願い致します。</h3>

<p class="ng-scope"><i class="icon pen"></i> <strong>以下のソースコードをsample.rbに書き、実行してみましょう</strong></p>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">sample.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="n">input</span> <span class="o">=</span> <span class="nb">gets</span>

  <span class="nb">puts</span> <span class="s2">"入力した値は</span><span class="si">#{</span><span class="n">input</span><span class="si">}</span><span class="s2">です"</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">打ち込んだ文字が出力されたあと、<strong>「入力した値は"打ち込んだ文字"です」</strong>とターミナル上に表示されたと思います。</p>

<p class="ng-scope">ここで重要な点は以下の2つです。</p>

<ul class="ng-scope">
<li><strong>getsメソッドは返り値としてターミナルで入力された文字列を返す</strong></li>
<li><strong>getsメソッドはターミナルからの入力が終わるまでプログラムの処理を一回止める</strong></li>
</ul>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="70" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_00"></i>要点チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-93" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-93" name="check-93" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">getsメソッドを使うとキーボードからターミナルに入力を行える</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="25" class="ng-scope">getsメソッドの返り値</h2>

<p class="ng-scope">getsメソッドはターミナルからユーザーに入力を行わせ、<strong>入力された値の文字列オブジェクトを返り値として渡します</strong>。<br>
さきほどのsample.rbのソースコードを見ると<strong>getsメソッドの返り値が変数inputに代入されている</strong>のがわかります。</p>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="71" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_00"></i>要点チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-94" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-94" name="check-94" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">getsメソッドは返り値としてユーザーの入力した値の文字列オブジェクトを返す</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="26" class="ng-scope">プログラムの処理の順番</h2>

<p class="ng-scope">getsメソッドの特徴として入力が完了するまでプログラムの処理を中断するというものがあります。<br>
普通rubyのプログラムは上から下へと流れていきます。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="nb">puts</span> <span class="mi">1</span>
  <span class="nb">puts</span> <span class="mi">2</span>
  <span class="nb">puts</span> <span class="mi">3</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope">このプログラムを実行すれば上からputsメソッドが呼ばれ、1, 2, 3と順番にターミナルに出力されるでしょう。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="nb">puts</span> <span class="n">title</span>

  <span class="n">title</span> <span class="o">=</span> <span class="s2">"時をかける少女"</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope">このソースコードは3行目で変数titleを定義しているのに、1行目でtitleを使おうとしているのでエラーして実行に失敗します。<br>
このように<strong>プログラムとは必ず上から下に順番に実行される</strong>というルールがあります。</p>

<h2 id="27" class="ng-scope">getsメソッドと処理の流れ</h2>

<p class="ng-scope">getsメソッドを使うとユーザーがターミナルで入力をするまでそこで一回<strong>プログラムを中断</strong>します。<br>
よってgetsメソッドより下のソースコードは入力が終わるまでは実行されないということです。</p>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">sample.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="n">input</span> <span class="o">=</span> <span class="nb">gets</span>

  <span class="nb">puts</span> <span class="s2">"入力した値は</span><span class="si">#{</span><span class="n">input</span><span class="si">}</span><span class="s2">です"</span> <span class="c1"># ユーザーの入力が終わるまで実行されない</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">この特徴によって、getsからの返り値を変数に入れ、その変数をgetsメソッドより後に書かれたソースコードで使うことができるというわけです。</p>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="72" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_00"></i>要点チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-95" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-95" name="check-95" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">getsメソッドはユーザーの入力が終わるまでプログラムを一旦中断する</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="28" class="ng-scope">getsメソッドを使ってジャンル、タイトル、感想を入力できるようにしよう</h2>

<p class="ng-scope">getsメソッドを使うと、ユーザーからの入力を変数に代入することができます。これを利用してレビューをユーザーが入力できるようにしましょう。</p>

<div class="challenge ng-scope">
  <h3>
<i class="icon crown"></i> 問題5：レビューを自分で書けるようにソースコードを書き直してみましょう</h3>
  <div class="challenge_box">
    <h5>作業ファイル：reviewApp.rb</h5>
    <h5>ヒント：getsメソッドを使いましょう。また、しっかりと書けていれば入力待ちが3回続くはずです</h5>
    <curriculum-question-container class="ng-scope" data-order="5"><button style="" class="answer ng-hide" ng-click="show_answer()" ng-show="isSolved">解答と解説を見る</button><button class="solve ng-binding" ng-click="solve()" ng-hide="isSolved">課題を解く</button><button style="" class="solved ng-hide" ng-click="solved()" ng-show="isSolving">解けた</button>
</curriculum-question-container>
  </div>
</div>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="73" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_02"></i>課題チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-96" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-96" name="check-96" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">getsメソッドを使って、レビューの各情報をユーザーから入力させることができた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="29" class="ng-scope">入力するときに文言を表示しよう</h2>

<p class="ng-scope">実際に動かしたら分かると思いますが、このままでは入力時になにも表示されないのでいま入力しているのがジャンルなのか、タイトルなのか、感想なのかわかりません。入力時には「入力してください」と表示した方がわかりやすいですね。</p>

<p class="ng-scope">そこで以下のような文言を入力前に表示するようにしましょう。</p>

<div class="code-frame ng-scope" data-lang="bash">
<div class="code-lang"><span class="bold">ターミナル</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td>
<td class="code">
<div class="highlight"><pre>ジャンルを入力してください：
<span class="c"># getsメソッドでの入力</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<div class="code-frame ng-scope" data-lang="bash">
<div class="code-lang"><span class="bold">ターミナル</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td>
<td class="code">
<div class="highlight"><pre>タイトルを入力してください：
<span class="c"># getsメソッドでの入力</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<div class="code-frame ng-scope" data-lang="bash">
<div class="code-lang"><span class="bold">ターミナル</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td>
<td class="code">
<div class="highlight"><pre>感想を入力してください：
<span class="c"># getsメソッドでの入力</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<div class="challenge ng-scope">
  <h3>
<i class="icon crown"></i> 問題6：ジャンルのときは「ジャンルを入力してください：」のように入力前に文言を表示するようにソースコードを書き直してみましょう</h3>
  <div class="challenge_box">
    <h5>作業ファイル：reviewApp.rb</h5>
    <h5>ヒント：特になし</h5>
    <curriculum-question-container class="ng-scope" data-order="6"><button style="" class="answer ng-hide" ng-click="show_answer()" ng-show="isSolved">解答と解説を見る</button><button class="solve ng-binding" ng-click="solve()" ng-hide="isSolved">課題を解く</button><button style="" class="solved ng-hide" ng-click="solved()" ng-show="isSolving">解けた</button>
</curriculum-question-container>
  </div>
</div>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="74" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_02"></i>課題チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-97" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-97" name="check-97" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">getsメソッドでの入力前に何を入力するかを指示する文言を表示することができた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<p class="ng-scope">さて、これでほとんどSTEP2は終わりですが、あと一点修正したい箇所があります。</p>

<h2 id="30" class="ng-scope">文末の改行を取り除く</h2>

<p class="ng-scope">getsメソッドで返ってきた文字列オブジェクトは<strong>勝手に文末で改行してしまいます</strong>。<br>
これはgetsメソッドの仕様で入力した文字の末尾にバックスラッシュ記法の\nをつけた状態の文字列オブジェクトを返り値として返してしまうのです。</p>

<p class="ng-scope"><strong>期待する表示</strong></p>

<div class="code-frame ng-scope" data-lang="bash">
<div class="code-lang"><span class="bold">ターミナル</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td>
<td class="code">
<div class="highlight"><pre>ジャンル : 映画
---------------------------
タイトル : 時をかける少女
---------------------------
感想 :
とても面白かった！高校に戻りたくなる！
---------------------------
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope"><strong>実際の表示</strong></p>

<div class="code-frame ng-scope" data-lang="bash">
<div class="code-lang"><span class="bold">ターミナル</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td>
<td class="code">
<div class="highlight"><pre>ジャンル : 映画

---------------------------
タイトル : 時をかける少女

---------------------------
感想 :
とても面白かった！高校に戻りたくなる！

---------------------------
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">これを取り除くために文字列オブジェクトのメソッド<strong>chomp</strong>を使いましょう。</p>

<h3 class="ng-scope">
<i class="icon information" id="term_120"></i>chompメソッド</h3>

<p class="ng-scope">chompメソッドは<strong>文字列の末尾の改行文字を取り除いた新しい文字列を返してくれるメソッド</strong>です。</p>

<p class="ng-scope"><i class="icon pen"></i> <strong>以下のソースコードをsample.rbに書き、実行してみましょう</strong></p>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">sample.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="n">string</span> <span class="o">=</span> <span class="s2">"改行します</span><span class="se">\n\n</span><span class="s2">"</span>

  <span class="nb">puts</span> <span class="n">string</span>       <span class="c1"># 改行される</span>
  <span class="nb">puts</span> <span class="n">string</span><span class="o">.</span><span class="n">chomp</span> <span class="c1"># 改行されない</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">chompメソッドによって改行が取り除かれているのが分かると思います。</p>

<div class="challenge ng-scope">
  <h3>
<i class="icon crown"></i> 問題7：getsメソッドによって勝手についた改行を消してレビューを表示してみましょう</h3>
  <div class="challenge_box">
    <h5>作業ファイル：reviewApp.rb</h5>
    <h5>ヒント：chompメソッドを使います</h5>
    <curriculum-question-container class="ng-scope" data-order="7"><button style="" class="answer ng-hide" ng-click="show_answer()" ng-show="isSolved">解答と解説を見る</button><button class="solve ng-binding" ng-click="solve()" ng-hide="isSolved">課題を解く</button><button style="" class="solved ng-hide" ng-click="solved()" ng-show="isSolving">解けた</button>
</curriculum-question-container>
  </div>
</div>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="75" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_02"></i>課題チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-98" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-98" name="check-98" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">chompメソッドによって末尾につく改行を消してレビューを表示できた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="76" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_00"></i>要点チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-99" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-99" name="check-99" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">chompメソッドは文字列の末尾についた改行を取り除いた新しい文字列を返すメソッド</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="31" class="ng-scope">STEP2完成ソースコード</h2>

<p class="ng-scope">これでSTEP2は終了です。ここまでのreviewApp.rbのソースコードをのせておきます。比較して確認してみてください。</p>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">reviewApp.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="c1"># 変数の定義</span>
  <span class="nb">puts</span> <span class="s2">"ジャンルを入力してください："</span>
  <span class="n">genre</span>  <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span>
  <span class="nb">puts</span> <span class="s2">"タイトルを入力してください："</span>
  <span class="n">title</span>  <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span>
  <span class="nb">puts</span> <span class="s2">"感想を入力してください："</span>
  <span class="n">review</span> <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span>
  <span class="n">line</span>   <span class="o">=</span> <span class="s2">"---------------------------"</span>

  <span class="c1"># レビューの描画</span>
  <span class="nb">puts</span> <span class="s2">"ジャンル : </span><span class="si">#{</span><span class="n">genre</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span>
  <span class="nb">puts</span> <span class="s2">"タイトル : </span><span class="si">#{</span><span class="n">title</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span>
  <span class="nb">puts</span> <span class="s2">"感想 :</span><span class="se">\n</span><span class="si">#{</span><span class="n">review</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<h3 class="ng-scope">■ 処理の流れ</h3>

<p class="ng-scope">ここで処理の流れをおさらいします。</p>

<ul class="ng-scope">
<li>
<p>2行目から8行目</p>

<div class="code-frame" data-lang="ruby">
<div class="code-lang"><span class="bold">reviewApp.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>2
3
4
5
6
7
8</pre></div></td>
<td class="code">
<div class="highlight"><pre><span class="nb">puts</span> <span class="s2">"ジャンルを入力してください："</span>
<span class="n">genre</span>  <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span>
<span class="nb">puts</span> <span class="s2">"タイトルを入力してください："</span>
<span class="n">title</span>  <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span>
<span class="nb">puts</span> <span class="s2">"感想を入力してください："</span>
<span class="n">review</span> <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span>
<span class="n">line</span>   <span class="o">=</span> <span class="s2">"---------------------------"</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p>2行目から8行目では<code>gets</code>メソッドを使ってレビューの内容をターミナルから入力できるようにします。入力した値は変数に代入します。また、getsメソッドで入力した値は自動で文末に改行が入ってしまうのでそれを取り除くために<code>chomp</code>メソッドを使います。</p>
</li>
</ul>

<p class="ng-scope">11行目から13行目はSTEP1と同様、変数を式展開を使って表示します。</p>

<p class="ng-scope"><br></p>

<p class="ng-scope">このようなソースコードが書けたらSTEP3へ進みましょう。</p>

<h1 id="32" class="ng-scope">STEP3 : ハッシュを使って情報を整理しよう</h1>

<p class="ng-scope"><strong>ハッシュ</strong>という複数の情報を扱うことのできるオブジェクトをつかってレビューの情報をより分かりやすく扱いましょう。</p>

<h2 id="33" class="ng-scope">このSTEPでできるようになること</h2>

<ul class="ng-scope">
<li><strong>ハッシュを作れるようになる</strong></li>
<li><strong>ハッシュから情報を取得できる</strong></li>
<li><strong>ハッシュに情報を追加できる</strong></li>
</ul>

<h2 id="34" class="ng-scope">変数が増えるという問題</h2>

<p class="ng-scope">これまでのソースコードを見てみるとジャンル、タイトル、感想をそれぞれ別の変数として扱っていました。<br>
しかし、レビューを複数扱う場合を考えてみてください。<br>
例えば以下の2つのレビューを同時に表示させるプログラムを書いてみましょう。</p>

<hr class="ng-scope">

<ul class="ng-scope">
<li>ジャンル
<strong>映画</strong>
</li>
<li>タイトル
<strong>時をかける少女</strong>
</li>
<li>感想
<strong>人生の最高傑作アニメ。</strong>
***</li>
<li>ジャンル
<strong>マンガ</strong>
</li>
<li>タイトル
<strong>るろうに剣心</strong>
</li>
<li>感想
<strong>映画化されたけど、やっぱり原作が最高。</strong>
***</li>
</ul>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="c1"># レビュー1</span>
  <span class="n">genre1</span>  <span class="o">=</span> <span class="s2">"映画"</span>
  <span class="n">title1</span>  <span class="o">=</span> <span class="s2">"時をかける少女"</span>
  <span class="n">review1</span> <span class="o">=</span> <span class="s2">"人生の最高傑作アニメ。"</span>
  <span class="c1"># レビュー2</span>
  <span class="n">genre2</span>  <span class="o">=</span> <span class="s2">"マンガ"</span>
  <span class="n">title2</span>  <span class="o">=</span> <span class="s2">"るろうに剣心"</span>
  <span class="n">review2</span> <span class="o">=</span> <span class="s2">"映画化されたけど、やっぱり原作が最高。"</span>
  <span class="c1"># 区切り線</span>
  <span class="n">line</span>   <span class="o">=</span> <span class="s2">"---------------------------"</span>

  <span class="c1"># レビューの描画</span>
  <span class="nb">puts</span> <span class="s2">"ジャンル : </span><span class="si">#{</span><span class="n">genre1</span><span class="si">}</span><span class="s2">"</span>
  <span class="nb">puts</span> <span class="s2">"タイトル : </span><span class="si">#{</span><span class="n">title1</span><span class="si">}</span><span class="s2">"</span>
  <span class="nb">puts</span> <span class="s2">"感想 :</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">review1</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="se">\n</span><span class="s2">"</span>

  <span class="nb">puts</span> <span class="s2">"ジャンル : </span><span class="si">#{</span><span class="n">genre2</span><span class="si">}</span><span class="s2">"</span>
  <span class="nb">puts</span> <span class="s2">"タイトル : </span><span class="si">#{</span><span class="n">title2</span><span class="si">}</span><span class="s2">"</span>
  <span class="nb">puts</span> <span class="s2">"感想 :</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">review2</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope">このようなソースコードになったと思います。同じような変数が増えていっていますね。さらにジャンル、タイトル、感想以外にも項目が増えたときに<strong>どんどん変数が多くなって</strong>見づらくなっていきそうです。</p>

<h2 id="35" class="ng-scope">ハッシュとは</h2>

<p class="ng-scope">そこで出てくるのがが<strong>ハッシュオブジェクト</strong>です。</p>

<h3 class="ng-scope">
<i class="icon information" id="term_121"></i> ハッシュオブジェクト</h3>

<p class="ng-scope">ハッシュオブジェクト(略称:ハッシュ)は１つの変数で<strong>複数のデータを持つことのできる</strong>オブジェクトです。</p>

<p class="ng-scope">ハッシュオブジェクトは、自身の中に<strong>データ</strong>とそれに対応する<strong>キー</strong>のセットを所持することができます。</p>

<p class="ng-scope">今回作成中のレビューアプリでは、ハッシュオブジェクトを利用しレビューのまとまりを作ることで、あとからレビューを読む時などの処理を簡単に記述できるようになります。最初はどうしてもメリットがわかりづらいかもしれませんが、<strong>後で必ず実感できる</strong>ので、気にせずにカリキュラムを進めていきましょう。</p>

<h3 class="ng-scope">
<i class="icon information" id="term_122"></i> キーバリューストア</h3>

<p class="ng-scope">ハッシュのように、保存したいデータ(バリュー)とそれに対応する標識(キー)を対応させてペアで保存する方式のことを<strong>キーバリューストア</strong>といいます。標識であるキーを指定すればそれに対応するデータを取り出すことが可能です。</p>

<p class="ng-scope"><img src="images" alt="Hash" title="Hash"></p>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="77" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_00"></i>要点チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-100" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-100" name="check-100" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">ハッシュは１つの変数で複数のデータを持つことのできるオブジェクト</span></label><!-- end ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-101" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-101" name="check-101" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">ハッシュはデータとそれに対応するキーをもっている</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="36" class="ng-scope">ハッシュオブジェクトの変数を作る</h2>

<p class="ng-scope">まずはハッシュオブジェクトを生成してみましょう。ハッシュの生成は以下のコードで行えます。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="nb">hash</span> <span class="o">=</span> <span class="p">{}</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope">ハッシュは<strong>{} (中括弧)</strong>を使って記述します。また左辺のhashは変数名であり、任意の名前を定義できます。上の書き方では何もデータを持っていない空のハッシュが生成されます。</p>

<p class="ng-scope">生成のときからデータを持つこともできます。以下の書き方でキーと値を持った状態のハッシュオブジェクトを生成できます。<br>
<strong>{キー1 =&gt; 値1, キー2 =&gt; 値2, ...}</strong></p>

<p class="ng-scope"><i class="icon pen"></i> <strong>ハッシュを生成するソースコードをsample.rbに書き、実行してみましょう</strong></p>

<h3 class="ng-scope">
<i class="icon attention"></i>sample.rbを実行する前に、Rubyのバージョンを確認してください</h3>

<p class="ng-scope">ここで、ターミナルから以下のコマンドを入力してみてください。すると、Rubyのバージョンを確かめることができます。</p>

<div class="code-frame ng-scope" data-lang="bash">
<div class="code-lang"><span class="bold">ターミナル</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td>
<td class="code">
<div class="highlight"><pre><span class="nv">$ </span>ruby -v
<span class="c">#Rubyのバージョンが表示される</span>
2.0.0
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">この時、バージョンが1.9.3より古かった場合、以下のプログラムの3行目と6行目は除いてコードを実行してください。</p>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">sample.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="n">hash1</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"title"</span> <span class="o">=&gt;</span> <span class="s2">"るろうに剣心"</span><span class="p">}</span>
  <span class="n">hash2</span> <span class="o">=</span> <span class="p">{</span><span class="ss">:title</span> <span class="o">=&gt;</span> <span class="s2">"時をかける少女"</span><span class="p">}</span>
  <span class="n">hash3</span> <span class="o">=</span> <span class="p">{</span><span class="ss">title</span><span class="p">:</span> <span class="s2">"君に届け"</span><span class="p">}</span>
  <span class="nb">puts</span> <span class="n">hash1</span>
  <span class="nb">puts</span> <span class="n">hash2</span>
  <span class="nb">puts</span> <span class="n">hash3</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<div class="code-frame ng-scope" data-lang="bash">
<div class="code-lang"><span class="bold">ターミナル</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td>
<td class="code">
<div class="highlight"><pre><span class="c">#ディレクトリを確認し、以下のコードを実行</span>
<span class="nv">$ </span>ruby sample.rb
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="78" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_01"></i>作業チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-102" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-102" name="check-102" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">ハッシュオブジェクトを生成することができた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<p class="ng-scope"><code>hash1</code>と<code>hash2</code>はどちらも<strong>「title」</strong>というキーでハッシュを生成しています。hash1はキーを<strong>文字列"title"</strong>で指定しています。一方、hash2はキーが<strong>:title</strong>となっていますね。これは<strong>シンボル</strong>と呼ばれるオブジェクトです。</p>

<p class="ng-scope">また、<code>hash3</code>は<code>hash2</code>と同義ですが、コードの量も少なくよく使われるので覚えておきましょう。</p>

<p class="ng-scope">先ほどRubyのバージョンを確かめたのは、<code>hash3</code>の記法はRubyのバージョン1.9.3以降からしか使えないためです。それ以前のバージョンで利用しようとすると、エラーが起きてしまいます。</p>

<h3 class="ng-scope">
<i class="icon information" id="term_123"></i> シンボルオブジェクト</h3>

<p class="ng-scope">シンボルオブジェクト(略称:シンボル)とは今回のハッシュのキーのような名前を識別するためのラベルです。<br>
かならず先頭に<strong>接頭語:</strong>をつけます。基本的には文字列と同じように扱えます。</p>

<p class="ng-scope">ハッシュオブジェクトのキーは文字列オブジェクト、シンボルオブジェクトのどちらを使っても問題ないです。</p>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="79" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_00"></i>要点チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-103" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-103" name="check-103" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">ハッシュオブジェクトは{}を使って生成する</span></label><!-- end ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-104" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-104" name="check-104" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">シンボルオブジェクトは名前を識別するためのラベルで基本は文字列と同様に扱える</span></label><!-- end ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-105" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-105" name="check-105" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">ハッシュオブジェクトのキーには文字列、もしくはシンボルが使える</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="37" class="ng-scope">文字列とシンボルのどっちを使えば良いの？</h2>

<p class="ng-scope">結論から言うと<strong>ハッシュではシンボルを使いましょう</strong>。文字列とシンボルはほとんど特性は同じです。ハッシュのキーも文字列とシンボルの両方が使えます。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="c1"># どちらも同じ</span>
  <span class="n">hash1</span> <span class="o">=</span> <span class="p">{</span><span class="ss">:title</span> <span class="o">=&gt;</span> <span class="s2">"時をかける少女"</span><span class="p">}</span>
  <span class="n">hash2</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"title"</span> <span class="o">=&gt;</span> <span class="s2">"時をかける少女"</span><span class="p">}</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope">しかし、ハッシュで使う場合に<strong>実行の速度がシンボルの方が早い</strong>ため、ハッシュのキーにはシンボルの使用が推奨されています。<br>
(文字列とシンボルはほとんど特性は同じといいましたが、実は少しだけ違います。深い話になるのでここでは割愛しますが興味のある方は調べてみるとおもしろいかもしれません。)</p>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="80" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_00"></i>要点チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-106" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-106" name="check-106" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">ハッシュのキーとして使うならシンボルの方が実行速度が早い</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="38" class="ng-scope">ハッシュオブジェクトから値を取得する</h2>

<p class="ng-scope">ではハッシュの持っている値を取得してみましょう。取得の際に使うのがその値のキーです。以下の書き方で取得ができます。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="err">ハッシュオブジェクト</span><span class="o">[</span><span class="err">欲しい値のキー</span><span class="o">]</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope"><i class="icon pen"></i> <strong>生成したハッシュから値を取得する以下のソースコードをsample.rbに書き、実行してみましょう</strong></p>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">sample.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="nb">hash</span> <span class="o">=</span> <span class="p">{</span><span class="ss">:title</span> <span class="o">=&gt;</span> <span class="s2">"時をかける少女"</span><span class="p">}</span>
  <span class="nb">puts</span> <span class="nb">hash</span><span class="o">[</span><span class="ss">:title</span><span class="o">]</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">キー「title」に対応する値である「時をかける少女」が表示されたでしょうか。</p>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="81" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_01"></i>作業チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-107" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-107" name="check-107" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">ハッシュオブジェクトから値を取得することができた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="82" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_00"></i>要点チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-108" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-108" name="check-108" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">ハッシュオブジェクトから値を取得するにはその値のキーを指定する。<code>ハッシュオブジェクト[欲しい値のキー]</code></span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="39" class="ng-scope">ハッシュオブジェクトに値を追加する</h2>

<p class="ng-scope">もちろんハッシュオブジェクトは生成後にも値を追加できます。追加には以下のような書き方をします。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="err">ハッシュオブジェクト</span><span class="o">[</span><span class="err">キー</span><span class="o">]</span> <span class="o">=</span> <span class="err">値</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope"><strong>すでに値が入っているキーを指定すると値が上書きされます</strong>。<br>
キーが「title」、それに対応する値が「時をかける少女」のハッシュオブジェクトを作り、キー「title」に対応する値を上書きして変えてみましょう。</p>

<p class="ng-scope"><i class="icon pen"></i> <strong>以下のソースコードをsample.rbに書き、実行してみましょう</strong></p>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">sample.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="nb">hash</span> <span class="o">=</span> <span class="p">{</span><span class="ss">:title</span> <span class="o">=&gt;</span> <span class="s2">"時をかける少女"</span><span class="p">}</span>
  <span class="nb">puts</span> <span class="nb">hash</span><span class="o">[</span><span class="ss">:title</span><span class="o">]</span>
  <span class="nb">hash</span><span class="o">[</span><span class="ss">:title</span><span class="o">]</span> <span class="o">=</span> <span class="s2">"るろうに剣心"</span>
  <span class="nb">puts</span> <span class="nb">hash</span><span class="o">[</span><span class="ss">:title</span><span class="o">]</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">二回目の出力は「るろうに剣心」に上書きされていたでしょうか。<br>
これで基本的なハッシュの使い方はわかりましたね。<br>
以下の動画を見て、ハッシュについての知識を確認しましょう。</p>

<iframe class="ng-scope" src="index_1.html" allowfullscreen="" frameborder="0" height="315" width="420"></iframe>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="83" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_01"></i>作業チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-109" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-109" name="check-109" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">ハッシュオブジェクトに値を追加、上書きすることができた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="84" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_00"></i>要点チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-110" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-110" name="check-110" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">ハッシュオブジェクトに値を追加するときは、対応するキーを指定して代入する。<code>ハッシュオブジェクト[キー] = 値</code></span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="40" class="ng-scope">ハッシュでレビューの情報をまとめよう</h2>

<p class="ng-scope">では、レビューの情報をハッシュにまとめてみましょう。レビューの投稿を表す変数をハッシュオブジェクトpostで生成します。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="n">post</span> <span class="o">=</span> <span class="p">{}</span>      <span class="c1"># レビューの投稿を表す変数を定義</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope">そして、今まで変数としていた「genre」、「title」、「review」をそれぞれハッシュオブジェクトpostのキーとしましょう。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="n">post</span><span class="o">[</span><span class="ss">:genre</span><span class="o">]</span>  <span class="o">=</span> <span class="c1"># ジャンル</span>
  <span class="n">post</span><span class="o">[</span><span class="ss">:title</span><span class="o">]</span>  <span class="o">=</span> <span class="c1"># タイトル</span>
  <span class="n">post</span><span class="o">[</span><span class="ss">:review</span><span class="o">]</span> <span class="o">=</span> <span class="c1"># 感想</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope">これで今まで3つあった変数(genre,title,review)はpostの1つだけにすることができます。</p>

<p class="ng-scope">例えば、具体的にハッシュの中に要素を追加してみます。<br>
まず空のハッシュを宣言することで、後からハッシュの要素を追加出来るようになります。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="n">post</span> <span class="o">=</span> <span class="p">{}</span> <span class="c1"># 空のハッシュの宣言</span>

  <span class="c1">#以下で要素の追加</span>
  <span class="n">post</span><span class="o">[</span><span class="ss">:genre</span><span class="o">]</span> <span class="o">=</span> <span class="s2">"マンガ"</span>
  <span class="n">post</span><span class="o">[</span><span class="ss">:title</span><span class="o">]</span> <span class="o">=</span> <span class="s2">"るろうに剣心"</span>
  <span class="n">post</span><span class="o">[</span><span class="ss">:review</span><span class="o">]</span> <span class="o">=</span> <span class="s2">"面白い!"</span>
  <span class="nb">puts</span> <span class="n">post</span> <span class="c1"># =&gt; {:genre=&gt;"マンガ", :title=&gt;"るろうに剣心", :review=&gt;"面白い"}</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope">また、以下のように定義したハッシュを使うことが出来ます。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="nb">puts</span> <span class="n">post</span><span class="o">[</span><span class="ss">:genre</span><span class="o">]</span> <span class="c1"># =&gt; "マンガ"</span>
  <span class="nb">puts</span> <span class="n">post</span><span class="o">[</span><span class="ss">:title</span><span class="o">]</span> <span class="c1"># =&gt; "るろうに剣心"</span>
  <span class="nb">puts</span> <span class="n">post</span><span class="o">[</span><span class="ss">:review</span><span class="o">]</span> <span class="c1"># =&gt; "面白い!"</span>
</pre></div>
</td>
</tr></tbody></table></div>

<div class="challenge ng-scope">
  <h3>
<i class="icon crown"></i> 問題8：レビューの情報である「ジャンル、タイトル、感想」をハッシュオブジェクトpostを使ってまとめましょう</h3>
  <div class="challenge_box">
    <h5>作業ファイル：reviewApp.rb</h5>
    <h5>ヒント：ハッシュとしてまとめる情報はジャンル、タイトル、感想です</h5>
    <curriculum-question-container class="ng-scope" data-order="8"><button style="" class="answer ng-hide" ng-click="show_answer()" ng-show="isSolved">解答と解説を見る</button><button class="solve ng-binding" ng-click="solve()" ng-hide="isSolved">課題を解く</button><button style="" class="solved ng-hide" ng-click="solved()" ng-show="isSolving">解けた</button>
</curriculum-question-container>
  </div>
</div>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="85" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_02"></i>課題チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-111" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-111" name="check-111" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">レビューの各情報をハッシュオブジェクトを使って変数1つにまとめた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="41" class="ng-scope">STEP3完成ソースコード</h2>

<p class="ng-scope">これでSTEP2は終了です。ここまでのreviewApp.rbのソースコードをのせておきます。比較して確認してみてください。</p>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">reviewApp.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="c1"># 変数の定義</span>
  <span class="n">post</span> <span class="o">=</span> <span class="p">{}</span>
  <span class="nb">puts</span> <span class="s2">"ジャンルを入力してください："</span>
  <span class="n">post</span><span class="o">[</span><span class="ss">:genre</span><span class="o">]</span>  <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span>
  <span class="nb">puts</span> <span class="s2">"タイトルを入力してください："</span>
  <span class="n">post</span><span class="o">[</span><span class="ss">:title</span><span class="o">]</span>  <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span>
  <span class="nb">puts</span> <span class="s2">"感想を入力してください："</span>
  <span class="n">post</span><span class="o">[</span><span class="ss">:review</span><span class="o">]</span> <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span>
  <span class="n">line</span>   <span class="o">=</span> <span class="s2">"---------------------------"</span>

  <span class="c1"># レビューの描画</span>
  <span class="nb">puts</span> <span class="s2">"ジャンル : </span><span class="si">#{</span><span class="n">post</span><span class="o">[</span><span class="ss">:genre</span><span class="o">]</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span>
  <span class="nb">puts</span> <span class="s2">"タイトル : </span><span class="si">#{</span><span class="n">post</span><span class="o">[</span><span class="ss">:title</span><span class="o">]</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span>
  <span class="nb">puts</span> <span class="s2">"感想 :</span><span class="se">\n</span><span class="si">#{</span><span class="n">post</span><span class="o">[</span><span class="ss">:review</span><span class="o">]</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">ソースコードの行数が短くならないため、今の段階ではハッシュを使う利点があまり感じられないかもしれませんが後で複数レビューを扱うときに楽になります。</p>

<h3 class="ng-scope">■ 処理の流れ</h3>

<p class="ng-scope">ここで処理の流れをおさらいします。</p>

<ul class="ng-scope">
<li>2行目から9行目</li>
</ul>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">reviewApp.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>2
3
4
5
6
7
8
9</pre></div></td>
<td class="code">
<div class="highlight"><pre>    <span class="n">post</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="nb">puts</span> <span class="s2">"ジャンルを入力してください："</span>
    <span class="n">post</span><span class="o">[</span><span class="ss">:genre</span><span class="o">]</span>  <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span>
    <span class="nb">puts</span> <span class="s2">"タイトルを入力してください："</span>
    <span class="n">post</span><span class="o">[</span><span class="ss">:title</span><span class="o">]</span>  <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span>
    <span class="nb">puts</span> <span class="s2">"感想を入力してください："</span>
    <span class="n">post</span><span class="o">[</span><span class="ss">:review</span><span class="o">]</span> <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span>
    <span class="n">line</span>   <span class="o">=</span> <span class="s2">"---------------------------"</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">今まで複数の変数(genre, title, review)にレビューの情報を入れていましたが、今回はハッシュを使って1つの変数で複数の値を管理します。ハッシュのオブジェクトを代入するための変数<code>post</code>を用意します。</p>

<p class="ng-scope">ハッシュは<strong>キー</strong>と<strong>バリュー</strong>で値を管理します。ジャンルはgenre、タイトルはtitle、感想はreviewというキーに値を入れます。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1</pre></div></td>
<td class="code">
<div class="highlight"><pre>    <span class="n">post</span><span class="o">[</span><span class="p">:</span><span class="err">キー</span><span class="o">]</span> <span class="o">=</span> <span class="err">値</span>
</pre></div>
</td>
</tr></tbody></table></div>

<ul class="ng-scope">
<li>12行目から14行目</li>
</ul>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">reviewApp.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>2
3
4</pre></div></td>
<td class="code">
<div class="highlight"><pre>    <span class="nb">puts</span> <span class="s2">"ジャンル : </span><span class="si">#{</span><span class="n">post</span><span class="o">[</span><span class="ss">:genre</span><span class="o">]</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span>
    <span class="nb">puts</span> <span class="s2">"タイトル : </span><span class="si">#{</span><span class="n">post</span><span class="o">[</span><span class="ss">:title</span><span class="o">]</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span>
    <span class="nb">puts</span> <span class="s2">"感想 :</span><span class="se">\n</span><span class="si">#{</span><span class="n">post</span><span class="o">[</span><span class="ss">:review</span><span class="o">]</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">12行目から14行目では今までのSTEPと同様に変数を式展開を使って表示しますが、変数がハッシュなので値の取り出し方が違います。今までのように変数を式展開で囲むだけではなく、 ハッシュから値を取り出すには<strong>キーを指定しなくてはいけません。</strong></p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1</pre></div></td>
<td class="code">
<div class="highlight"><pre>    <span class="nb">puts</span> <span class="s2">"</span><span class="si">#{</span><span class="n">post</span><span class="o">[</span><span class="p">:</span><span class="err">キー</span><span class="o">]</span><span class="si">}</span><span class="s2">"</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope"><br></p>

<p class="ng-scope">このようなソースコードが書けたらSTEP4へ進みましょう。</p>

<h1 id="42" class="ng-scope">STEP4 : メニュー画面をつくろう</h1>

<p class="ng-scope">プログラムを実行してから最初に表示されるメニュー画面を表示できるようにしましょう。</p>

<div class="code-frame ng-scope" data-lang="bash">
<div class="code-lang"><span class="bold">ターミナル</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td>
<td class="code">
<div class="highlight"><pre>レビュー数：0
<span class="o">[</span>0<span class="o">]</span>レビューを書く
<span class="o">[</span>1<span class="o">]</span>レビューを読む
<span class="o">[</span>2<span class="o">]</span>アプリを終了する
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">このアプリケーションでは最初メニュー画面が表示され、メニューの横にある番号を入力してレビューを書くか、レビューを読むか、終了するかを選びます。</p>

<h2 id="43" class="ng-scope">このSTEPでできるようになること</h2>

<ul class="ng-scope">
<li><strong>条件分岐ができるようになる</strong></li>
</ul>

<h2 id="44" class="ng-scope">メニューの表示</h2>

<p class="ng-scope">まずはメニューを表示させましょう。メニューは<br>
<strong>[0]レビューを書く</strong><br>
<strong>[1]レビューを読む</strong><br>
<strong>[2]アプリを終了する</strong><br>
の三項目を表示したあと<strong>ユーザーの入力を待ちます</strong>。</p>

<p class="ng-scope"><strong>入力後は今まで通り、レビューを書く画面を表示させましょう</strong>。<br>
また、現在書いたレビュー数をメニューの上に表示させますが、今の段階ではレビュー数は0でかまいません。</p>

<div class="challenge ng-scope">
  <h3>
<i class="icon crown"></i> 問題9：プログラムを実行したらまず最初にメニュー画面を表示し、ユーザーの入力後にレビューを書く画面を表示するようにしましょう</h3>
  <div class="challenge_box">

    <div class="code-frame" data-lang="bash"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td>
<td class="code">
<div class="highlight"><pre>    
      レビュー数：0
      <span class="o">[</span>0<span class="o">]</span>レビューを書く
      <span class="o">[</span>1<span class="o">]</span>レビューを読む
      <span class="o">[</span>2<span class="o">]</span>アプリを終了する
      <span class="c"># 入力待ち</span>
    
    
</pre></div>
</td>
</tr></tbody></table></div>

    <h5>作業ファイル：reviewApp.rb</h5>
    <h5>ヒント：メニューの表示後、ユーザーからの入力をさせることを忘れないでください</h5>
    <curriculum-question-container class="ng-scope" data-order="9"><button style="" class="answer ng-hide" ng-click="show_answer()" ng-show="isSolved">解答と解説を見る</button><button class="solve ng-binding" ng-click="solve()" ng-hide="isSolved">課題を解く</button><button style="" class="solved ng-hide" ng-click="solved()" ng-show="isSolving">解けた</button>
</curriculum-question-container>
  </div>
</div>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="86" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_02"></i>課題チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-112" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-112" name="check-112" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">メニュー画面の表示ができた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="45" class="ng-scope">メニューの機能を実装しよう</h2>

<p class="ng-scope">このままのプログラムでは何を入力しても「レビューを書く」になってしまいます。<br>
次は<strong>ユーザーの入力によって処理を変える</strong>ということをしないといけません。すなわち<strong>変数input(入力された文字列)</strong>によって処理を変えます。</p>

<h2 id="46" class="ng-scope">条件分岐</h2>

<p class="ng-scope">ここで必要になるのは<strong>条件分岐</strong>です。ここでの条件は<strong>ユーザーから入力された値</strong>で、分岐は以下です。</p>

<table class="ng-scope">
<thead>
<tr>
<th style="text-align: center;">入力された値</th>
<th style="text-align: center;">処理</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">0</td>
<td style="text-align: center;">レビューを書く</td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: center;">レビューを読む</td>
</tr>
<tr>
<td style="text-align: center;">2</td>
<td style="text-align: center;">プログラムを終了させる</td>
</tr>
<tr>
<td style="text-align: center;">それ以外</td>
<td style="text-align: center;">無効な値と教える</td>
</tr>
</tbody>
</table>

<h2 id="47" class="ng-scope">if文で条件分岐をしよう</h2>

<h3 class="ng-scope">
<i class="icon information" id="term_124"></i> if文</h3>

<p class="ng-scope">条件分岐にはif文という文法をつかいます。if文は<strong>条件式</strong>が正しいか正しくないかで処理を分岐させることができます。最も基本的なif文の書き方は以下です。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="k">if</span> <span class="err">条件式</span> <span class="k">then</span>
    <span class="c1"># 条件式が真(true)のときに実行する処理</span>
  <span class="k">end</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope">条件式とは基本文法で出てきた(3 &gt; 0)などのような返り値が<strong>true</strong>か<strong>false</strong>の式のことです。<br>
<code>if 条件式 then</code>と<code>end</code>の間には<strong>その条件式がtrueのとき</strong>に実行する処理を書きます。</p>

<p class="ng-scope"><i class="icon pen"></i> <strong>以下のソースコードをsample.rbに書き、実行してみましょう</strong></p>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">sample.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="n">value</span> <span class="o">=</span> <span class="mi">3</span>
  <span class="k">if</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">then</span>
    <span class="nb">puts</span> <span class="s2">"値は正です"</span>
  <span class="k">end</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">このプログラムで条件式は「value &gt; 0」で、valueは3なので<strong>条件式は真(true)となります</strong>。よって<code>if 条件式 then</code>と<code>end</code>の間の処理が実行され、画面に"値は正です"と表示されました。</p>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="87" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_00"></i>要点チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-113" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-113" name="check-113" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">if文は条件式によって処理を分岐させることのできる文法</span></label><!-- end ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-114" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-114" name="check-114" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">「if 条件式 then」と「end」の間に条件式が真のときに実行したい処理を書く</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="48" class="ng-scope">条件式が偽の場合に処理させよう</h2>

<p class="ng-scope">値が正でないとき、つまり条件式が偽(false)のときに"値は負です"と表示させたくなりますね。条件式が偽のときに処理を行うには以下のように<strong>else</strong>を使います。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="k">if</span> <span class="err">条件式</span> <span class="k">then</span>
    <span class="c1"># 条件式が真(true)のときに実行する処理</span>
  <span class="k">else</span>
    <span class="c1"># 条件式が偽(false)のときに実行する処理</span>
  <span class="k">end</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope"><code>else</code>と<code>end</code>の間には条件式が偽のときに実行させる処理を書きます。これを使って先ほどのプログラムに書き足して値が負のときに"値は負です"と表示させるようにしましょう。</p>

<p class="ng-scope"><i class="icon pen"></i> <strong>以下のソースコードをsample.rbに書き、実行してみましょう</strong></p>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">sample.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="n">value</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span>
  <span class="k">if</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">then</span>
    <span class="nb">puts</span> <span class="s2">"値は正です"</span>
  <span class="k">else</span>
    <span class="nb">puts</span> <span class="s2">"値は負です"</span>
  <span class="k">end</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">今回は値を-3にしたので<strong>条件式は偽となり</strong>、"値は負です"と表示されました。</p>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="88" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_00"></i>要点チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-115" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-115" name="check-115" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">「else」と「end」の間に条件式が偽のときに実行したい処理を書く</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="49" class="ng-scope">複雑な条件分岐を実装しよう</h2>

<p class="ng-scope">数学に詳しい方ならお気づきかもしれませんが、実は先ほどのプログラムは数学的には間違っています。'0'は正でも負でもないためです。しかし今のプログラムで値を0にすると"値は負です"と表示されてしまいます。よって条件分岐を以下のように3パターン考えます。</p>

<table class="ng-scope">
<thead>
<tr>
<th style="text-align: center;">条件</th>
<th style="text-align: center;">表示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">value &gt; 0</td>
<td style="text-align: center;">値は正です</td>
</tr>
<tr>
<td style="text-align: center;">value &lt; 0</td>
<td style="text-align: center;">値は負です</td>
</tr>
<tr>
<td style="text-align: center;">それ以外</td>
<td style="text-align: center;">値は0です</td>
</tr>
</tbody>
</table>

<p class="ng-scope"><br></p>

<p class="ng-scope">このような複数の条件分岐を書くときは<strong>elsif</strong>という文法を使います。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="k">if</span> <span class="err">条件式</span><span class="mi">1</span> <span class="k">then</span>
    <span class="c1"># 条件式1が真(true)のときに実行する処理</span>
  <span class="k">elsif</span> <span class="err">条件式</span><span class="mi">2</span> <span class="k">then</span>
    <span class="c1"># 条件式1が偽(false)のとき、かつ</span>
    <span class="c1"># 条件式2が真(true)のときに実行する処理</span>
  <span class="k">else</span>
    <span class="c1"># 条件式1と条件式2がどちらとも偽(false)のときに実行する処理</span>
  <span class="k">end</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope">すなわち正か負か0かの条件分岐は以下のようになります。</p>

<p class="ng-scope"><img src="ruby3-if.png" alt="If" title="If"></p>

<p class="ng-scope">これをソースコードに書き直しましょう。<br>
ユーザーから入力された値が'正'、'負'、'0'のどれかを判断するようにします。<strong>getsメソッドで得られるユーザーからの入力は文字列であるため、数値オブジェクトに変換しなければいけません。</strong><br>
また　if 条件式 thenの <strong>then</strong> は省略することができます。</p>

<h3 class="ng-scope">
<i class="icon information" id="term_125"></i> to_iメソッド</h3>

<p class="ng-scope">文字列オブジェクトに対してto_iメソッドを使うとその文字列を数値オブジェクトに変換することができます。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="n">string</span> <span class="o">=</span> <span class="s2">"30"</span>           <span class="c1"># 文字列の30</span>
  <span class="n">number</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">to_i</span>    <span class="c1"># 数値の30に変換</span>
  <span class="nb">puts</span> <span class="n">number</span> <span class="o">+</span> <span class="mi">20</span>        <span class="c1"># =&gt; 50が出力</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope"><i class="icon pen"></i> <strong>以下のソースコードをsample.rbに書き、実行してみましょう</strong></p>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">sample.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="n">value</span> <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">to_i</span>

  <span class="k">if</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">then</span>
    <span class="nb">puts</span> <span class="s2">"値は正です"</span>
  <span class="k">elsif</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">then</span>
    <span class="nb">puts</span> <span class="s2">"値は負です"</span>
  <span class="k">else</span>
    <span class="nb">puts</span> <span class="s2">"値は0です"</span>
  <span class="k">end</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">以下の動画で、If文に関しての知識を確認しましょう。</p>

<iframe class="ng-scope" src="index_2.html" allowfullscreen="" frameborder="0" height="315" width="420"></iframe>

<iframe class="ng-scope" src="index_3.html" allowfullscreen="" frameborder="0" height="315" width="420"></iframe>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="89" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_00"></i>要点チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-116" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-116" name="check-116" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">elsif文を使うと複数の条件分岐を書くことができる</span></label><!-- end ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-117" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-117" name="check-117" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">「elsif 条件式 then」と「end」の間には、<strong>それまでの条件式はすべて偽で、なおかつ「elsif 条件式 then」の条件式は真</strong>のときに実行させたい処理を書く</span></label><!-- end ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-118" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-118" name="check-118" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">to_iメソッドは文字列を数値に変換するメソッド</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="50" class="ng-scope">メニュー画面の条件分岐</h2>

<p class="ng-scope">これで条件分岐の使い方がわかったと思います。ではメニュー画面の実装に戻りましょう。ここでもう一度メニュー画面の条件分岐についてまとめましょう。</p>

<table class="ng-scope">
<thead>
<tr>
<th style="text-align: center;">入力された値</th>
<th style="text-align: center;">処理</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">0</td>
<td style="text-align: center;">レビューを書く</td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: center;">レビューを読む</td>
</tr>
<tr>
<td style="text-align: center;">2</td>
<td style="text-align: center;">プログラムを終了させる</td>
</tr>
<tr>
<td style="text-align: center;">それ以外</td>
<td style="text-align: center;">無効な値と教える</td>
</tr>
</tbody>
</table>

<ul class="ng-scope">
<li>「レビューを書く」は今まで書いていたレビューを書く処理を行えば良いです。</li>
<li>「レビューを読む」はまだ作っていないので何も処理はいりません。</li>
<li>「プログラムを終了する」も何も処理をしなくていいです。</li>
<li>「それ以外」は"入力された値は無効な値です"と表示させましょう。</li>
</ul>

<div class="challenge ng-scope">
  <h3>
<i class="icon crown"></i> 問題10：メニュー画面でユーザーから入力された値によって処理を変えよう</h3>
  <div class="challenge_box">
    <h5>作業ファイル：reviewApp.rb</h5>
    <h5>ヒント：getsメソッドでは文字列のみ取得できます。数値で条件分岐を行なう場合は文字列を数値に変換するto_iメソッドを使いましょう。</h5>
    <curriculum-question-container class="ng-scope" data-order="10"><button style="" class="answer ng-hide" ng-click="show_answer()" ng-show="isSolved">解答と解説を見る</button><button class="solve ng-binding" ng-click="solve()" ng-hide="isSolved">課題を解く</button><button style="" class="solved ng-hide" ng-click="solved()" ng-show="isSolving">解けた</button>
</curriculum-question-container>
  </div>
</div>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="90" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_02"></i>課題チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-119" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-119" name="check-119" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">if文を使ってユーザーの入力した値によって処理を分岐させることができた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="51" class="ng-scope">処理をメソッドとして分離する</h2>

<p class="ng-scope">機能的にはSTEP4は終了です。しかしソースコードも量が増えif文の中にも長い処理が書かれているためソースコードが非常に読みづらくなってしまっています。ここで<strong>メソッド</strong>を書いてソースコードを綺麗にしましょう。</p>

<p class="ng-scope"><strong>読みづらいコード</strong></p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre> 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="k">if</span> <span class="n">input</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">then</span>    <span class="c1"># 「レビューを書く」</span>
    <span class="c1"># 変数の定義</span>
    <span class="n">post</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="nb">puts</span> <span class="s2">"ジャンルを入力してください："</span>
    <span class="n">post</span><span class="o">[</span><span class="ss">:genre</span><span class="o">]</span>  <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span>
    <span class="nb">puts</span> <span class="s2">"タイトルを入力してください："</span>
    <span class="n">post</span><span class="o">[</span><span class="ss">:title</span><span class="o">]</span>  <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span>
    <span class="nb">puts</span> <span class="s2">"感想を入力してください："</span>
    <span class="n">post</span><span class="o">[</span><span class="ss">:review</span><span class="o">]</span> <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span>
    <span class="n">line</span>   <span class="o">=</span> <span class="s2">"---------------------------"</span>

    <span class="c1"># レビューの描画</span>
    <span class="nb">puts</span> <span class="s2">"ジャンル : </span><span class="si">#{</span><span class="n">post</span><span class="o">[</span><span class="ss">:genre</span><span class="o">]</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span>
    <span class="nb">puts</span> <span class="s2">"タイトル : </span><span class="si">#{</span><span class="n">post</span><span class="o">[</span><span class="ss">:title</span><span class="o">]</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span>
    <span class="nb">puts</span> <span class="s2">"感想 :</span><span class="se">\n</span><span class="si">#{</span><span class="n">post</span><span class="o">[</span><span class="ss">:review</span><span class="o">]</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">elsif</span> <span class="n">input</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">then</span> <span class="c1"># 「レビューを読む」</span>
    <span class="c1"># レビューを読む</span>
  <span class="k">elsif</span> <span class="n">input</span> <span class="o">==</span> <span class="mi">2</span> <span class="k">then</span> <span class="c1"># 「プログラムを終了する」</span>
    <span class="c1"># プログラムを終了させる</span>
  <span class="k">else</span>
    <span class="nb">puts</span> <span class="s2">"入力された値は無効な値です"</span>
  <span class="k">end</span>
</pre></div>
</td>
</tr></tbody></table></div>

<h2 id="52" class="ng-scope">メソッドの書き方</h2>

<p class="ng-scope">メソッドは今までにもたくさん出てきました。メソッドはあらかじめ決まったものだけでなく自分で書くこともできるのです。メソッドは以下の書式でプログラム中で定義ができます。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="k">def</span> <span class="err">メソッド名</span>
    <span class="c1"># 実行する処理</span>
  <span class="k">end</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope">実行するときはプログラム中でメソッド名を呼ぶだけです。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="k">def</span> <span class="nf">say_hello</span> <span class="c1"># 定義</span>
    <span class="nb">puts</span> <span class="s2">"Hello World"</span>
  <span class="k">end</span>

  <span class="n">say_hello</span> <span class="c1"># 実行</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope"><i class="icon attention"></i> <strong>ソースコードは上から下へ実行されるのでメソッドは呼び出すよりも先に定義しなければなりません</strong></p>

<p class="ng-scope">メソッドで定義されたプログラムは呼ばれるまで実行されることはありません。</p>

<p class="ng-scope"><i class="icon pen"></i> <strong>以下のソースコードをsample.rbに書き、実行してみましょう</strong></p>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">sample.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="k">def</span> <span class="nf">say_hello</span> <span class="c1"># 定義</span>
    <span class="nb">puts</span> <span class="s2">"Hello World"</span>
  <span class="k">end</span>

  <span class="n">say_hello</span> <span class="c1"># 実行</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="91" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_01"></i>作業チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-120" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-120" name="check-120" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">自分で作ったメソッドの定義と実行ができた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="92" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_00"></i>要点チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-121" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-121" name="check-121" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">メソッドを定義するときは<strong>「def メソッド名」〜「end」</strong>を使う</span></label><!-- end ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-122" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-122" name="check-122" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">メソッドを呼び出すときはメソッドの定義よりも下で呼び出す</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="53" class="ng-scope">メニューで分岐する各処理をメソッドにしよう</h2>

<p class="ng-scope">では、reviewApp.rbのソースコードの処理をメソッドに分けましょう。分けるメソッドは各条件の処理です。</p>

<table class="ng-scope">
<thead>
<tr>
<th style="text-align: center;">メソッド名</th>
<th style="text-align: center;">処理</th>
<th style="text-align: center;">入力された値</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">post_review</td>
<td style="text-align: center;">レビューを書く</td>
<td style="text-align: center;">0</td>
</tr>
<tr>
<td style="text-align: center;">read_reviews</td>
<td style="text-align: center;">レビューを読む</td>
<td style="text-align: center;">1</td>
</tr>
<tr>
<td style="text-align: center;">end_program</td>
<td style="text-align: center;">プログラムを終了する</td>
<td style="text-align: center;">2</td>
</tr>
<tr>
<td style="text-align: center;">exception</td>
<td style="text-align: center;">無効な値の入力を知らせる</td>
<td style="text-align: center;">それ以外</td>
</tr>
</tbody>
</table>

<p class="ng-scope"><br><br>
if文の中に入っていた処理をそれぞれ抜き出して上のメソッドの書式に従って書き直してみましょう。メソッドは呼び出されるよりも上で定義しないといけないので以下のようになります。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="c1"># メソッドの定義</span>
  <span class="k">def</span> <span class="nf">post_review</span>
    <span class="c1"># 処理</span>
  <span class="k">end</span>

  <span class="k">if</span> <span class="n">input</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="n">post_review</span> <span class="c1"># メソッドの呼び出し</span>
</pre></div>
</td>
</tr></tbody></table></div>

<div class="challenge ng-scope">
  <h3>
<i class="icon crown"></i> 問題11：if文内の処理を上の表を参考にメソッドとして分離しましょう</h3>
  <div class="challenge_box">
    <h5>作業ファイル：reviewApp.rb</h5>
    <h5>ヒント：まずは上の表にあるメソッド名で新しいメソッドを定義しましょう</h5>
    <curriculum-question-container class="ng-scope" data-order="11"><button style="" class="answer ng-hide" ng-click="show_answer()" ng-show="isSolved">解答と解説を見る</button><button class="solve ng-binding" ng-click="solve()" ng-hide="isSolved">課題を解く</button><button style="" class="solved ng-hide" ng-click="solved()" ng-show="isSolving">解けた</button>
</curriculum-question-container>
  </div>
</div>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="93" action="http://master.tech-camp.in/curriculums/153#">
  <h4 class="ng-binding">
    <i class="icon check_icon_02"></i>課題チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-123" ng-repeat="check in checkbox.checks"><input checked="checked" class="ng-pristine ng-untouched ng-valid" id="check-123" name="check-123" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">メニューで分岐する各処理をメソッドにして分けることができた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="54" class="ng-scope">STEP4完成ソースコード</h2>

<p class="ng-scope">これでSTEP4は終了です。ここまでのreviewApp.rbのソースコードをのせておきます。比較して確認してみてください。</p>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">reviewApp.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46</pre></div></td>
<td class="code">
<div class="highlight"><pre>  <span class="c1"># メソッドの定義</span>
  <span class="k">def</span> <span class="nf">post_review</span>
    <span class="c1"># 変数の定義</span>
    <span class="n">post</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="nb">puts</span> <span class="s2">"ジャンルを入力してください："</span>
    <span class="n">post</span><span class="o">[</span><span class="ss">:genre</span><span class="o">]</span>  <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span>
    <span class="nb">puts</span> <span class="s2">"タイトルを入力してください："</span>
    <span class="n">post</span><span class="o">[</span><span class="ss">:title</span><span class="o">]</span>  <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span>
    <span class="nb">puts</span> <span class="s2">"感想を入力してください："</span>
    <span class="n">post</span><span class="o">[</span><span class="ss">:review</span><span class="o">]</span> <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span>
    <span class="n">line</span>   <span class="o">=</span> <span class="s2">"---------------------------"</span>

    <span class="c1"># レビューの描画</span>
    <span class="nb">puts</span> <span class="s2">"ジャンル : </span><span class="si">#{</span><span class="n">post</span><span class="o">[</span><span class="ss">:genre</span><span class="o">]</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span>
    <span class="nb">puts</span> <span class="s2">"タイトル : </span><span class="si">#{</span><span class="n">post</span><span class="o">[</span><span class="ss">:title</span><span class="o">]</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span>
    <span class="nb">puts</span> <span class="s2">"感想 :</span><span class="se">\n</span><span class="si">#{</span><span class="n">post</span><span class="o">[</span><span class="ss">:review</span><span class="o">]</span><span class="si">}</span><span class="se">\n</span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">read_reviews</span>
    <span class="c1"># レビューを読む</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">end_program</span>
    <span class="c1"># プログラムを終了する</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">exception</span>
    <span class="nb">puts</span> <span class="s2">"入力された値は無効な値です"</span>
  <span class="k">end</span>

  <span class="c1"># メニューの表示</span>
  <span class="nb">puts</span> <span class="s2">"レビュー数：0"</span>
  <span class="nb">puts</span> <span class="s2">"[0]レビューを書く"</span>
  <span class="nb">puts</span> <span class="s2">"[1]レビューを読む"</span>
  <span class="nb">puts</span> <span class="s2">"[2]アプリを終了する"</span>
  <span class="n">input</span> <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">to_i</span>

  <span class="k">if</span> <span class="n">input</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">then</span>
    <span class="n">post_review</span>         <span class="c1"># post_reviewメソッドの呼び出し</span>
  <span class="k">elsif</span> <span class="n">input</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">then</span>
    <span class="n">read_reviews</span>        <span class="c1"># read_reviewsメソッドの呼び出し</span>
  <span class="k">elsif</span> <span class="n">input</span> <span class="o">==</span> <span class="mi">2</span> <span class="k">then</span>
    <span class="n">end_program</span>         <span class="c1"># end_programメソッドの呼び出し</span>
  <span class="k">else</span>
    <span class="n">exception</span>           <span class="c1"># exceptionメソッドの呼び出し</span>
  <span class="k">end</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<h3 class="ng-scope">■ 処理の流れ</h3>

<p class="ng-scope">ここで処理の流れをおさらいします。</p>

<ul class="ng-scope">
<li>2行目から29行目</li>
</ul>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">reviewApp.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre> 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td>
<td class="code">
<div class="highlight"><pre>    <span class="k">def</span> <span class="nf">post_review</span>
      <span class="c1"># レビューの投稿</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">read_reviews</span>
      <span class="c1"># レビューの閲覧</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">end_program</span>
      <span class="c1"># プログラムの終了</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">exception</span>
      <span class="c1"># エラー処理</span>
    <span class="k">end</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">まずは、2行目から29行目でこのアプリケーションのメインとなる処理である「レビューの投稿」、「レビューの閲覧」、「プログラムの終了」、「エラー処理」の4つを<strong>メソッド</strong>として定義します。</p>

<p class="ng-scope">メソッドはどこかで呼び出すことになりますが、このとき呼び出す部分のコードよりも前にメソッドを定義する必要があります。そのため、メソッドはなるべくソースコードの最初に定義するようにしましょう。</p>

<ul class="ng-scope">
<li>32行目から35行目</li>
</ul>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">reviewApp.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>32
33
34
35</pre></div></td>
<td class="code">
<div class="highlight"><pre>    <span class="nb">puts</span> <span class="s2">"レビュー数：0"</span>
    <span class="nb">puts</span> <span class="s2">"[0]レビューを書く"</span>
    <span class="nb">puts</span> <span class="s2">"[1]レビューを読む"</span>
    <span class="nb">puts</span> <span class="s2">"[2]アプリを終了する"</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">メソッドを定義したので、ここからプログラムの処理が始まります。まずはメニューの表示を行います。</p>

<ul class="ng-scope">
<li>36行目</li>
</ul>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">reviewApp.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>36</pre></div></td>
<td class="code">
<div class="highlight"><pre>     <span class="n">input</span> <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">to_i</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">メニューの表示後、メニューの中のどれを実行するか選択するためにターミナルからユーザーに値を入力させます。</p>

<p class="ng-scope"><code>gets</code>メソッドで取得した値を変数inputに代入します。入力された値は文字列ですが、このあとの比較のときに数字として扱いたいので文字列を数字に変換する<code>to_i</code>メソッドを使います。</p>

<ul class="ng-scope">
<li>38行目から46行目</li>
</ul>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">reviewApp.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>38
39
40
41
42
43
44
45
46</pre></div></td>
<td class="code">
<div class="highlight"><pre>    <span class="k">if</span> <span class="n">input</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">then</span>
      <span class="n">post_review</span>
    <span class="k">elsif</span> <span class="n">input</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">then</span>
      <span class="n">read_reviews</span>
    <span class="k">elsif</span> <span class="n">input</span> <span class="o">==</span> <span class="mi">2</span> <span class="k">then</span>
      <span class="n">end_program</span>
    <span class="k">else</span>
      <span class="n">exception</span>
    <span class="k">end</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">ターミナルから入力した値を使って、どの処理を行うのか<strong>条件分岐</strong>する必要があります。値によって処理を変える条件分岐をプログラムで行うには<code>if文</code>を使用します。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td>
<td class="code">
<div class="highlight"><pre>    <span class="k">if</span> <span class="n">input</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">then</span>
      <span class="c1"># inputの値が数字の0のとき</span>
      <span class="c1"># この中で何らかの処理を行う</span>
    <span class="k">end</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope">if文で与えられた値によって最初に定義したそれぞれのメソッドの処理を呼び出します。メソッドを呼び出すときにはそのメソッドの名前を記述します。</p>

<div class="code-frame ng-scope" data-lang="ruby"><table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td>
<td class="code">
<div class="highlight"><pre>    <span class="k">def</span> <span class="nf">method1</span>
      <span class="c1"># 処理</span>
    <span class="k">end</span>

    <span class="n">method1</span> <span class="c1"># 上で定義したメソッド「method1」を呼び出す</span>
</pre></div>
</td>
</tr></tbody></table></div>

<p class="ng-scope">このあとは、<code>gets</code>メソッドで入力した値によって各メソッドが呼び出されます。レビューの投稿の処理が記述された<code>post_review</code>メソッドの中にあるソースコードはSTEP3のソースコードと同様です。</p>

<p class="ng-scope"><br></p>

<p class="ng-scope">このようなソースコードが書けたらSTEP5へ進みましょう。</p>

<h2 id="55" class="ng-scope">
<i class="icon world"></i> コラム：卒業生のサービス紹介①</h2>

<p class="ng-scope">こちらのコラムでは、TECH::CAMPを卒業した方が実際に運営しているサービスをご紹介します。ご覧いただければ、TECH::CAMPで学習した知識でどんなことができるかがわかるはずです。これからオリジナルのアプリケーションを作成したい方は、ぜひ参考にしてみてください！</p>

<h4 class="ng-scope">宇宙×モデルのコラボメディア</h4>

<p class="ng-scope"><img src="79a70dbdbce8a6699692772959838422.png" alt="https://tech-master.s3.amazonaws.com/uploads/curriculums//79a70dbdbce8a6699692772959838422.png"></p>

<h5 class="ng-scope">サービス名：<a href="http://uchujoshi.com/">宇宙女子</a>
</h5>

<h5 class="ng-scope">製作者/期：石原史章さん/11期1ヶ月コース</h5>

<h5 class="ng-scope">製作期間：2週間</h5>

<p class="ng-scope"><a href="http://uchujoshi.com/">宇宙女子</a>は、宇宙についての情報をまとめて発信するキュレーションサイトです。コンセプトは「宇宙をもっと身近に。」で、ユーザーがカジュアルに宇宙関連のグッズやイベントの情報を集められるメディアとなっています。名前にある通り、宇宙に興味関心のある女性がモデル、リポーターとして記事に登場します。</p>
</div>
          <!-- ngIf: curriculum.short_test --><div ng-if="curriculum.short_test" class="short_test-box ng-scope">
  <div class="short_test-title">
    <h4>
      確認問題
    </h4>
    <p>
      お疲れ様でした！このカリキュラムの終わりに確認問題を解きましょう。
    </p>
  </div>
  <div class="short_test_score" id="shortTestInfo"></div>
  <div class="short_test-button">
    <a class="curriculum-short-test-button" ng-click="showShortTest(curriculum.short_test.id)">確認テストに挑戦する！</a>
  </div>
</div><!-- end ngIf: curriculum.short_test -->
        </div>
      </div>
      <div class="col-md-3 col-sm-12" id="curriculumSideContainer">
        <curriculum-side-wrap id="sideWrap">
          <ul style="max-height: 347px;" class="list-group toc-tree" id="curriculumContents">
  <li class="list-group-item disabled">
    目次
  </li>
  <!-- ngRepeat: content in contents --><li class="ng-scope" ng-repeat="content in contents">
    <a class="content-link ng-binding current" id="contents1" ng-click="clickContent(content.h1.id)">学習の目標</a>
    <ul class="list-group">
      <!-- ngRepeat: h2 in content.h2 track by $index -->
    </ul>
  </li><!-- end ngRepeat: content in contents --><li class="ng-scope" ng-repeat="content in contents">
    <a class="content-link ng-binding" id="contents2" ng-click="clickContent(content.h1.id)">アプリケーションの作成準備</a>
    <ul class="list-group">
      <!-- ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents3" ng-click="clickContent(h2.id)">作成するアプリケーションの概要を確認しよう</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents4" ng-click="clickContent(h2.id)">見本を確認しよう</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents5" ng-click="clickContent(h2.id)">実装のステップを確認しよう</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index -->
    </ul>
  </li><!-- end ngRepeat: content in contents --><li class="ng-scope" ng-repeat="content in contents">
    <a class="content-link ng-binding" id="contents6" ng-click="clickContent(content.h1.id)">STEP0 : 準備</a>
    <ul class="list-group">
      <!-- ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents7" ng-click="clickContent(h2.id)">アプリケーション用のRubyファイルを作成する</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents8" ng-click="clickContent(h2.id)">サンプルソースコード用のRubyファイルを作成する</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents9" ng-click="clickContent(h2.id)">この章での作業の進め方</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index -->
    </ul>
  </li><!-- end ngRepeat: content in contents --><li class="ng-scope" ng-repeat="content in contents">
    <a class="content-link ng-binding" id="contents10" ng-click="clickContent(content.h1.id)">STEP1 : レビューを表示させてみよう</a>
    <ul class="list-group">
      <!-- ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents11" ng-click="clickContent(h2.id)">このSTEPでできるようになること</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents12" ng-click="clickContent(h2.id)">決められたレビューを表示しよう</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents13" ng-click="clickContent(h2.id)">ソースコードを改善しよう</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents14" ng-click="clickContent(h2.id)">puts内で改行をする</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents15" ng-click="clickContent(h2.id)">バックスラッシュ記法を使おう</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents16" ng-click="clickContent(h2.id)">バックスラッシュ記法で改行してみよう</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents17" ng-click="clickContent(h2.id)">変数を使おう</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents18" ng-click="clickContent(h2.id)">reviewApp.rbで変数を使おう</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents19" ng-click="clickContent(h2.id)">式展開を使ってみよう</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents20" ng-click="clickContent(h2.id)">文字列の結合を+から式展開に変えてみよう</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents21" ng-click="clickContent(h2.id)">STEP1完成ソースコード</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index -->
    </ul>
  </li><!-- end ngRepeat: content in contents --><li class="ng-scope" ng-repeat="content in contents">
    <a class="content-link ng-binding" id="contents22" ng-click="clickContent(content.h1.id)">STEP2 : レビューを書けるようにしよう</a>
    <ul class="list-group">
      <!-- ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents23" ng-click="clickContent(h2.id)">このSTEPでできるようになること</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents24" ng-click="clickContent(h2.id)">ターミナルから文字を入力できるようにしよう</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents25" ng-click="clickContent(h2.id)">getsメソッドの返り値</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents26" ng-click="clickContent(h2.id)">プログラムの処理の順番</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents27" ng-click="clickContent(h2.id)">getsメソッドと処理の流れ</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents28" ng-click="clickContent(h2.id)">getsメソッドを使ってジャンル、タイトル、感想を入力できるようにしよう</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents29" ng-click="clickContent(h2.id)">入力するときに文言を表示しよう</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents30" ng-click="clickContent(h2.id)">文末の改行を取り除く</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents31" ng-click="clickContent(h2.id)">STEP2完成ソースコード</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index -->
    </ul>
  </li><!-- end ngRepeat: content in contents --><li class="ng-scope" ng-repeat="content in contents">
    <a class="content-link ng-binding" id="contents32" ng-click="clickContent(content.h1.id)">STEP3 : ハッシュを使って情報を整理しよう</a>
    <ul class="list-group">
      <!-- ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents33" ng-click="clickContent(h2.id)">このSTEPでできるようになること</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents34" ng-click="clickContent(h2.id)">変数が増えるという問題</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents35" ng-click="clickContent(h2.id)">ハッシュとは</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents36" ng-click="clickContent(h2.id)">ハッシュオブジェクトの変数を作る</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents37" ng-click="clickContent(h2.id)">文字列とシンボルのどっちを使えば良いの？</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents38" ng-click="clickContent(h2.id)">ハッシュオブジェクトから値を取得する</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents39" ng-click="clickContent(h2.id)">ハッシュオブジェクトに値を追加する</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents40" ng-click="clickContent(h2.id)">ハッシュでレビューの情報をまとめよう</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents41" ng-click="clickContent(h2.id)">STEP3完成ソースコード</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index -->
    </ul>
  </li><!-- end ngRepeat: content in contents --><li class="ng-scope" ng-repeat="content in contents">
    <a class="content-link ng-binding" id="contents42" ng-click="clickContent(content.h1.id)">STEP4 : メニュー画面をつくろう</a>
    <ul class="list-group">
      <!-- ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents43" ng-click="clickContent(h2.id)">このSTEPでできるようになること</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents44" ng-click="clickContent(h2.id)">メニューの表示</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents45" ng-click="clickContent(h2.id)">メニューの機能を実装しよう</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents46" ng-click="clickContent(h2.id)">条件分岐</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents47" ng-click="clickContent(h2.id)">if文で条件分岐をしよう</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents48" ng-click="clickContent(h2.id)">条件式が偽の場合に処理させよう</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents49" ng-click="clickContent(h2.id)">複雑な条件分岐を実装しよう</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents50" ng-click="clickContent(h2.id)">メニュー画面の条件分岐</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents51" ng-click="clickContent(h2.id)">処理をメソッドとして分離する</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents52" ng-click="clickContent(h2.id)">メソッドの書き方</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents53" ng-click="clickContent(h2.id)">メニューで分岐する各処理をメソッドにしよう</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents54" ng-click="clickContent(h2.id)">STEP4完成ソースコード</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents55" ng-click="clickContent(h2.id)">
 コラム：卒業生のサービス紹介①</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index -->
    </ul>
  </li><!-- end ngRepeat: content in contents -->
</ul>
          <div style="" ng-show="check_count > 0" class="progress_box ng-scope">
  <!-- ngIf: showTroubleShooting() -->
  <!-- ngIf: courseId != 9 && courseId != 10 --><p class="terms ng-scope" ng-if="courseId != 9 &amp;&amp; courseId != 10">
    分からない用語がある時：<br><a href="http://master.tech-camp.in/terms" target="_brank">用語一覧集</a>
  </p><!-- end ngIf: courseId != 9 && courseId != 10 -->
  <h4>
    進捗度<i class="ng-binding" id="numerator">45 / 45<span id="denominaotr"></span></i>
  </h4>
  <div class="progress">
    <div aria-valuemax="100" aria-valuemin="0" aria-valuenow="100" class="pregress-bar progress-bar-info ng-binding" role="progressbar" style="width: 100%;">
      100%
    </div>
  </div>
</div>
          <curriculum-glossary class="ng-hide" ng-show="curriculum.curriculum_type == 2 || curriculum.curriculum_type == 3"></curriculum-glossary>
          <button class="curriculum-report-button" ng-click="show_curriculum_report()">
            <img src="idea.svg" height="20px" width="20px">
            | このカリキュラムへのご要望
          </button>
        </curriculum-side-wrap>
      </div>
    </div>
    <ul style="" class="pager" ng-hide="loading">
  <li class="previous">
    <a style="" class="" ng-click="go_previous()" ng-show="curriculum.previous_id">前のカリキュラム</a>
  </li>
  <li class="next">
    <a style="" class="" ng-class="{ disable: curriculum.short_test.can_see_next_curriculum == false }" ng-click="go_next()" ng-show="curriculum.next_id">次のカリキュラム</a>
  </li>
</ul>
  </div>
</curriculum>
<div style="" class="ng-scope ng-isolate-scope ng-hide" id="loading" ng-show="loading">
  <svg height="44" stroke="#444" viewBox="0 0 44 44" width="44" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" strole-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"></animate><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"></animate></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"></animate><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"></animate></circle></g></svg>
</div>

<div class="curriculum-image__modal modal ng-scope" id="curriculum-image__modal" role="dialog" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button class="close" data-dismiss="modal" ng-click="close()"><span aria-hidden="true">×</span></button>
      </div>
      <div class="modal-body">
        <div class="curriculum-image__img__body">
          <img class="curriculum-image__img zoom-out" id="curriculum-image__img">
        </div>
      </div>
    </div>
  </div>
</div>


</div><div class="chat-window ng-scope" ng-controller="SupportChatController" ng-init="init('大宅誠人', '/uploads/noimage.png', 1867, 2988, 0, 'accepted_questions', 'machi4271', '2')"><div aria-hidden="true" aria-labelledby="myLargeModalLabel" class="modal fade" id="chats-modal" role="dialog" tabindex="-1"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="wrapper">
  <header class="chat-header">
    <div class="row">
      <div class="col-md-6 col-xs-12 chat-header-left">
        <h2>
          質問チャット
        </h2>
        <div class="chat-support-state active in-support ng-binding">
          <img src="icn_qsupport.png" width="16">質問受付中
        </div>
      </div>
    </div>
  </header>
  <div class="chat-layout" load-more="load-more">
    <!-- ngRepeat: message in messages -->
  </div>
</div><footer class="chat-footer"><form accept-charset="UTF-8" action="http://master.tech-camp.in/api/chat_messages" class="new_chat_message ng-pristine ng-valid" data-remote="true" enctype="multipart/form-data" id="new_chat_message" method="post" ng_submit="afterSubmitted()"><div style="display: none;"><input name="utf8" value="✓" type="hidden"></div><input id="chat_message_chat_id" name="chat_message[chat_id]" value="2988" type="hidden"><div class="chat-box"><div class="row"><div class="chat-upload col-xs-1"><div class="chat-upload-btn"><img class="chat-upload-icn" src="icn_fileupload.png"><input class="ng-pristine ng-untouched ng-valid" id="chat_message_file" name="chat_message[file]" ng_model="file" onchange="angular.element(this).scope().showSubmitButtonAndHideSkypeButtonAndPreview()" type="file"><div class="chat-uploading-image ng-hide" ng-show="isUploading" ng-style="isUploadingStyle"><div class="image_del ng-hide" ng-click="clearImage()" ng-show="imageDeletable"><img alt="close" src="icon_close_red.svg"></div></div></div></div><div class="chat-textarea col-xs-8"><textarea class="form-control ng-pristine ng-untouched ng-valid" id="chat_message_content" name="chat_message[content]" ng_model="content" placeholder="次のコードの意味がよくわからないので教えていただけないでしょうか？" row="3"></textarea></div><div class="chat-submit col-xs-3"><input style="display: none;" class="submit-btn" id="submit_chat_message" name="commit" value="送信" type="submit"><div class="skype-popup"><a title="" data-original-title="" class="trigger btn btn-default" href="#">Skypeで直接聞く</a><div class="head hide">Skype質問を申請すると<br>担当メンターから着信が届きます。<br>以下の項目をご確認ください。</div><div class="content hide"><p class="ng-binding">あなたのSkypeID:　machi4271<br>質問箇所: <small>※スマートフォン、タブレットでのSkypeはご遠慮ください<br>※通話が始まったらすぐに画面共有をお願いします</small></p><a class="skype-support" href="http://master.tech-camp.in/curriculums/153">Skype質問を申請する</a><div class="close">×</div></div></div></div></div></div></form></footer></div></div></div><div class="chat-dock" ng-click="getMessages(); showModal()">質問サポート<!-- ngIf: unreadSize != 0 --><span class="dock-support-state_text in-support ng-binding"><img class="icn_qsupport" src="icn_qsupport_white.png" width="10">質問受付中</span></div></div></body>
</html>
