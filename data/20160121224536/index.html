<!DOCTYPE html>
<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8"><title>機能を充実させる</title><meta content="authenticity_token" name="csrf-param">
<meta content="Y2UzkG5GQl5jzIBq3nOdxAEomQen5uuix05BO4pPfYw=" name="csrf-token"><link href="favicon.ico" rel="icon" sizes="16x16 32x32 48x48 128x128 256x256">
<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head>
<body class="ng-scope" ng-app="techMaster"><div class="navbar main_header navbar-fixed-top navbar-default" role="navigation"><div class="container"><div class="navbar-header"><button aria-controls="navbar" aria-expanded="false" class="navbar-toggle collapsed" data-target="#navbar" data-toggle="collapse" type="button"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="http://master.tech-camp.in/" target="_self"><img src="logo.png"></a></div><div class="navbar-collapse collapse" id="navbar"><ul class="nav navbar-nav navbar-right"><li class="text">終了まであと<i class="limit_time">10</i>日</li><li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" id="profileDropdown" style="padding: 10px 7px; cursor: pointer;"><img class="nav-proimg" src="noimage.png">大宅 誠人</a><ul class="dropdown-menu" id="profileDropdown"><li><a class="mypage-link" href="http://master.tech-camp.in/users/mypage" target="_self">マイページを見る</a></li><li><a href="http://master.tech-camp.in/users" target="_self">十三期生一覧</a></li></ul></li></ul></div></div></div><div class=""></div><!-- ngView:  --><div class="ng-scope" ng-view=""><curriculum style="display: inline;" class="ng-scope">
  <div class="container" id="curriculum">
    <div class="row curriculum-inner">
      <div class="col-lg-12 main" ng-init="init()">
        <div ng-show="curriculum.image" class="page-header page" style="background-image: url('main_visual.jpg');">
  <h1 class="ng-binding">
    Railsアプリケーション開発3 第6章<small class="ng-binding">〜機能を充実させる〜</small>
  </h1>
  <!-- ngIf: curriculum.image.description.length --><div style="" class="flickr_attr ng-binding ng-scope" ng-if="curriculum.image.description.length">
    日本でサクラは固有種・交配種を含め600種以上の品種が確認されています。平安時代の国風文化の影響以降、桜は花の代名詞のようになり、春の花の中でも特別な位置を占めるようになりました。日本の年度は4月始まりであることや、学校に多くの場合サクラが植えられていることから、人生の転機を彩る花にもなっています。<a class="ng-binding" href="http://master.tech-camp.in/curriculums/204" target="_top">Hiroaki Wakatsuki - Sakura</a>
  </div><!-- end ngIf: curriculum.image.description.length -->
</div>
      </div>
      <div class="col-md-9 col-sm-12" id="curriculumMainContainer">
        <div class="curriculum_content">
          <div class="curriculum_text ng-scope" compile-progress-notifier="willCompiledCurriculumText" ng-controller="CurriculumHintController"><h1 id="1" class="ng-scope">ページネーションを実装しよう</h1>

<p class="ng-scope">今の仕様だと質問と回答が増えるたびにページが伸びて、下までスクロールしないと前の質問と回答が見れないので、ユーザーにストレスを与えてしまいます。そこで複数のページに分割して各ページへのリンクを並べアクセスしやすくしたいと思います。</p>

<p class="ng-scope">ページネーションを実装するには、PicTweetでも使ったgemの<strong>kaminari</strong>を利用します。</p>

<p class="ng-scope"><i class="icon attention"></i> kaminariは第1章でGemfileに記述したので既にインストールが完了しています。</p>

<h2 id="2" class="ng-scope">1ページあたりに表示する件数を指定する</h2>

<p class="ng-scope">1ページに表示される質問と回答の情報を5件にします。コントローラーからビューに送る質問と回答の情報も5件のみになります。</p>

<h3 class="ng-scope">
<i class="icon pen"></i> <code>/app/controller/top_controller.rb</code>を以下のように編集してください。</h3>

<div class="code-frame ng-scope" data-lang="ruby">
<div class="code-lang"><span class="bold">/app/controller/top_controller.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td>
<td class="code">
<div class="highlight"><pre><span class="k">class</span> <span class="nc">TopController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="k">def</span> <span class="nf">index</span>
    <span class="vi">@question</span> <span class="o">=</span> <span class="no">Question</span><span class="o">.</span><span class="n">new</span>
<span class="hll">    <span class="vi">@feed_contents</span> <span class="o">=</span> <span class="n">current_user</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">feed_contents</span><span class="o">.</span><span class="n">includes</span><span class="p">(</span><span class="ss">:content</span><span class="p">)</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:page</span><span class="o">]</span><span class="p">)</span><span class="o">.</span><span class="n">per</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span><span class="hll">    <span class="vi">@feed_contents_resource</span> <span class="o">=</span> <span class="vi">@feed_contents</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:content</span><span class="p">)</span>
</span>  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="646" action="http://master.tech-camp.in/curriculums/204#">
  <h4 class="ng-binding">
    <i class="icon check_icon_01"></i>作業チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-857" ng-repeat="check in checkbox.checks"><input class="ng-pristine ng-untouched ng-valid" id="check-857" name="check-857" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">/app/controller/top_controller.rbを編集できた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="3" class="ng-scope">ページネーションのリンクを表示させる</h2>

<p class="ng-scope">ページネーションを実装する際にはコントローラーだけでなくビューにも編集を加える必要があります。</p>

<p class="ng-scope">一度学習した<a href="http://master.tech-camp.in/curriculums/16#term_365">paginateメソッド</a>の箇所も参考にしつつ進めていくと良いでしょう。</p>

<div class="challenge ng-scope">
  <h3>
<i class="icon crown"></i> 問題1：タイムラインにページネーションのリンクを表示させましょう</h3>

  <h5>作業ファイル：/app/views/top/index.html.erb</h5>
  <h5>ヒント1： paginateメソッドを使用します。</h5>
  <h5>ヒント2： renderに渡すインスタンス変数名も編集しましょう。</h5>

<div class="code-frame" data-lang="html">
<div class="code-lang"><span class="bold">/app/views/top/index.html.erb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre> 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td>
<td class="code">
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"posting_form top_content"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;header</span> <span class="na">class=</span><span class="s">"posting_header"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"posting_image icon_image"</span> <span class="na">style=</span><span class="s">"background-image: url(&lt;%= current_user.avatar.url(:medium) %&gt;);"</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"posting_user_info user_info"</span><span class="nt">&gt;</span>
      <span class="err">&lt;</span>%= current_user.name %&gt;
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/header&gt;</span>
  <span class="err">&lt;</span>%= form_for(@question) do |f| %&gt;
    <span class="err">&lt;</span>%= f.text_field :text, placeholder: "例：好きな食べ物は？" %&gt;
    <span class="err">&lt;</span>%= f.submit "質問する" %&gt;
  <span class="err">&lt;</span>% end %&gt;
<span class="nt">&lt;/div&gt;</span>

<span class="hll"><span class="err">&lt;</span>%= render  # 質問と回答のレコードが入ったインスタンス変数を渡す  %&gt;
</span>
<span class="hll"><span class="err">&lt;</span>%=  # ページネーションのリンクを表示する  %&gt;
</span>

  
</pre></div>
</td>
</tr></tbody></table>
</div>

  <curriculum-question-container class="ng-scope" data-order="1"><button style="" class="answer ng-hide" ng-click="show_answer()" ng-show="isSolved">解答と解説を見る</button><button class="solve ng-binding" ng-click="solve()" ng-hide="isSolved">課題を解く</button><button style="" class="solved ng-hide" ng-click="solved()" ng-show="isSolving">解けた</button>
</curriculum-question-container>
</div>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="647" action="http://master.tech-camp.in/curriculums/204#">
  <h4 class="ng-binding">
    <i class="icon check_icon_01"></i>作業チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-858" ng-repeat="check in checkbox.checks"><input class="ng-pristine ng-untouched ng-valid" id="check-858" name="check-858" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">/app/views/top/index.html.erbを編集できた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h3 class="ng-scope">
<i class="icon pen"></i> <code>rails s</code>でサーバーを起動してタイムラインにページネーションが実装できていることを確認してください。</h3>

<p class="ng-scope"><img src="paginate.png" alt="ページネーション実装後のタイムライン"></p>

<p class="ng-scope">以上でページネーションの実装は終了です。ページネーションはRails1-6で触ったことがあるので簡単だったかもしれません。</p>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="648" action="http://master.tech-camp.in/curriculums/204#">
  <h4 class="ng-binding">
    <i class="icon check_icon_01"></i>作業チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-859" ng-repeat="check in checkbox.checks"><input class="ng-pristine ng-untouched ng-valid" id="check-859" name="check-859" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">サーバーを起動してタイムラインにページネーションが実装できていることを確認できた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h1 id="4" class="ng-scope">質問に答えた人だけが回答を見えるようにする</h1>

<p class="ng-scope">今の仕様だと質問に答えていなくても、その質問に対する他の人の回答を見ることができます。なので、その質問に答えた人だけが回答を見れるようにして、より投稿したくなるようにしましょう。</p>

<h2 id="5" class="ng-scope">質問に答えていない場合の文言をビューに追加する</h2>

<p class="ng-scope">回答が<code>見えるかどうか</code>を変更したいので、編集するのは<code>ビューファイル</code>です。</p>

<p class="ng-scope">もし現在のユーザーがその質問に答えている場合は、その質問に対する回答を表示する。<br>
現在のユーザがその質問に答えていない（それ以外）場合は、「※質問に答えると他の人の回答を見ることが出来ます」と表示させます。このような条件分岐には<code>if文</code>をつかいますね。</p>

<h3 class="ng-scope">
<i class="icon pen"></i> <code>/app/views/questions/show.html.erb</code>を以下のように更新してください。</h3>

<div class="code-frame ng-scope" data-lang="html">
<div class="code-lang"><span class="bold">/app/views/questions/show.html.erb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td>
<td class="code">
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row form"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-lg-12"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h3&gt;&lt;span&gt;</span>Q<span class="nt">&lt;/span&gt;</span><span class="err">&lt;</span>%= @question.text %&gt;
    <span class="nt">&lt;/h3&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"group_action panel panel-default"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"panel-body"</span><span class="nt">&gt;</span>
        <span class="err">&lt;</span>% if @question.answers.where(user_id: current_user.id).blank? %&gt;
          <span class="err">&lt;</span>%= link_to '質問に回答する', new_answer_path(question_id: @question.id) %&gt;
        <span class="err">&lt;</span>% else %&gt;
          <span class="nt">&lt;h4&gt;</span>※回答済み※<span class="nt">&lt;/h4&gt;</span>
        <span class="err">&lt;</span>% end %&gt;
      <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="err">&lt;</span>% if @question.answers.present? %&gt;
      <span class="nt">&lt;h3&gt;&lt;span&gt;</span>A<span class="nt">&lt;/span&gt;</span>この質問への回答<span class="nt">&lt;/h3&gt;</span>
<span class="hll">      <span class="err">&lt;</span>% if @question.answered?(current_user) %&gt;
</span>        <span class="err">&lt;</span>%= render partial: "questions/answer", collection: @answers %&gt;
<span class="hll">      <span class="err">&lt;</span>% else %&gt;
</span><span class="hll">        <span class="nt">&lt;h1&gt;</span>※質問に答えると他の人の回答を見ることが出来ます<span class="nt">&lt;/h1&gt;</span>
</span><span class="hll">      <span class="err">&lt;</span>% end %&gt;
</span>    <span class="err">&lt;</span>% end %&gt;
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<ul class="ng-scope">
<li>12行目</li>
</ul>

<p class="ng-scope"><code>@question.answered?(current_user)</code>はまだ定義していませんが、現在のユーザーがその質問に既に答えているかどうかを確認するインスタンスメソッドです。<br>
<code>@question</code>はQuestionモデルのインスタンスなので、Questionモデルに定義したインスタンスメソッドを呼び出すことができます。</p>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="649" action="http://master.tech-camp.in/curriculums/204#">
  <h4 class="ng-binding">
    <i class="icon check_icon_01"></i>作業チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-860" ng-repeat="check in checkbox.checks"><input class="ng-pristine ng-untouched ng-valid" id="check-860" name="check-860" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">/app/views/questions/show.html.erbを編集できた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<p class="ng-scope">タイムラインの回答も質問に答えた人だけが見えるようにします。</p>

<h3 class="ng-scope">
<i class="icon pen"></i> <code>/app/views/answers/_answer.html.erb</code>を以下のように更新してください。</h3>

<div class="code-frame ng-scope" data-lang="html">
<div class="code-lang"><span class="bold">/app/views/answers/_answer.html.erb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></div></td>
<td class="code">
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"answer_content top_content"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;header</span> <span class="na">class=</span><span class="s">"answer_header"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"answer_image icon_image"</span> <span class="na">style=</span><span class="s">"background-image: url(&lt;%= answer.user.avatar.url(:medium) %&gt;);"</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"answer_user_info user_info"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;span&gt;</span><span class="err">&lt;</span>%= answer.user.name %&gt;<span class="nt">&lt;/span&gt;</span>
      <span class="nt">&lt;time&gt;</span><span class="err">&lt;</span>%= time_ago_in_words answer.created_at %&gt;<span class="nt">&lt;/time&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/header&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"answer_body"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"answerd"</span><span class="nt">&gt;</span>
      <span class="err">&lt;</span>%= answer.question.user.name %&gt;の質問「<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span><span class="nt">&gt;</span><span class="err">&lt;</span>%= answer.question.text %&gt;?<span class="nt">&lt;/a&gt;</span>」に回答しました。
    <span class="nt">&lt;/div&gt;</span>
<span class="hll">    <span class="err">&lt;</span>% if answer.question.answered?(current_user) %&gt;
</span>      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"answer_box"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"a"</span><span class="nt">&gt;</span>A<span class="nt">&lt;/span&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"answer_text"</span><span class="nt">&gt;</span><span class="err">&lt;</span>%= answer.text %&gt;<span class="nt">&lt;/span&gt;</span>
        <span class="err">&lt;</span>% if answer.user_id == current_user.id %&gt;
          <span class="nt">&lt;small</span> <span class="na">class=</span><span class="s">"edit"</span><span class="nt">&gt;</span>
            <span class="err">&lt;</span>%= link_to '編集', edit_answer_path(answer) %&gt;
          <span class="nt">&lt;/small&gt;</span>
        <span class="err">&lt;</span>% end %&gt;
      <span class="nt">&lt;/div&gt;</span>
<span class="hll">    <span class="err">&lt;</span>% end %&gt;
</span>    <span class="err">&lt;</span>% if answer.question.answers.count &gt; 1 %&gt;
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"answer_other"</span><span class="nt">&gt;</span>
        <span class="err">&lt;</span>%= link_to "他#{answer.question.answers.count - 1}件の回答を見る", question_path(answer.question) %&gt;
      <span class="nt">&lt;/div&gt;</span>
    <span class="err">&lt;</span>% end %&gt;
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="650" action="http://master.tech-camp.in/curriculums/204#">
  <h4 class="ng-binding">
    <i class="icon check_icon_01"></i>作業チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-861" ng-repeat="check in checkbox.checks"><input class="ng-pristine ng-untouched ng-valid" id="check-861" name="check-861" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">/app/views/answers/_answer.html.erbを編集できた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="6" class="ng-scope">Questionモデルにインスタンスメソッドを定義する</h2>

<div class="challenge ng-scope">
  <h3>
<i class="icon crown"></i> 問題2：任意の質問に回答済みか否かを判定するインスタンスメソッドを定義しましょう</h3>

  <h5>作業ファイル：/app/models/question.rb</h5>
  <h5>ヒント1： 引数として渡しているのは現在ログインしているユーザーのレコードです</h5>
  <h5>ヒント2： それぞれの質問に関連する全ての回答を取得し、その中でユーザーが回答したものを探すという手順を踏めば実現できそうです</h5>
  <h5>ヒント2： 既に学習したexists?メソッドを使用します</h5>

<div class="code-frame" data-lang="ruby">
<div class="code-lang"><span class="bold">/app/models/question.rb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td>
<td class="code">
<div class="highlight"><pre>    <span class="c1"># callback</span>
    <span class="n">after_create</span> <span class="ss">:create_feed_content</span>

    <span class="k">def</span> <span class="nf">user_answer</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span>
        <span class="no">Answer</span><span class="o">.</span><span class="n">find_by</span><span class="p">(</span><span class="ss">user_id</span><span class="p">:</span> <span class="n">user_id</span><span class="p">,</span> <span class="ss">question_id</span><span class="p">:</span> <span class="nb">id</span><span class="p">)</span>
    <span class="k">end</span>

<span class="hll">    <span class="k">def</span> <span class="nf">answered?</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
</span><span class="hll">      <span class="c1"># レシーバである質問に、現在ログインしているユーザーが既に回答している場合はtrueを、回答していない場合はfalseを返す</span>
</span><span class="hll">    <span class="k">end</span>
</span>
    <span class="kp">private</span>
    <span class="k">def</span> <span class="nf">create_feed_content</span>
      <span class="nb">self</span><span class="o">.</span><span class="n">feed_content</span> <span class="o">=</span> <span class="no">FeedContent</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="ss">group_id</span><span class="p">:</span> <span class="n">group_id</span><span class="p">,</span> <span class="ss">created_at</span><span class="p">:</span> <span class="n">created_at</span><span class="p">)</span>
    <span class="k">end</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

  <curriculum-question-container class="ng-scope" data-order="2"><button style="" class="answer ng-hide" ng-click="show_answer()" ng-show="isSolved">解答と解説を見る</button><button class="solve ng-binding" ng-click="solve()" ng-hide="isSolved">課題を解く</button><button style="" class="solved ng-hide" ng-click="solved()" ng-show="isSolving">解けた</button>
</curriculum-question-container>
</div>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="651" action="http://master.tech-camp.in/curriculums/204#">
  <h4 class="ng-binding">
    <i class="icon check_icon_01"></i>作業チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-862" ng-repeat="check in checkbox.checks"><input class="ng-pristine ng-untouched ng-valid" id="check-862" name="check-862" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">/app/models/question.rbを編集できた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h3 class="ng-scope">
<i class="icon pen"></i> 実際に、質問に回答していない時の表示を確認してください。</h3>

<p class="ng-scope"><img src="answered_timeline.png" alt="質問に回答していないタイムライン"></p>

<p class="ng-scope">質問の詳細ページの表示も確認してみましょう。</p>

<p class="ng-scope"><img src="answered_show.png" alt="質問に回答していない質問の詳細ページ"></p>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="652" action="http://master.tech-camp.in/curriculums/204#">
  <h4 class="ng-binding">
    <i class="icon check_icon_01"></i>作業チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-863" ng-repeat="check in checkbox.checks"><input class="ng-pristine ng-untouched ng-valid" id="check-863" name="check-863" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text"> 実際に質問に回答していない時の表示を確認できた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h1 id="7" class="ng-scope">ページに応じてタイトルを切り替える</h1>

<p class="ng-scope">ここまででアプリはほぼ完成です。ですがどのページも「Profy」という同じ<strong>タイトル</strong>になっているので、ページごとに<strong>タイトル</strong>を切り替えたいと思います。<br>
<strong>タイトル</strong>はブラウザのツールバーに表示され、またお気に入り(ブックマーク)に登録された際や、検索エンジンの検索結果などにも表示されます。</p>

<p class="ng-scope"><img src="top.png" alt="タイトル確認"></p>

<h2 id="8" class="ng-scope">レイアウトファイルにタイトルのコンテンツを設定する</h2>

<p class="ng-scope">ページごとにタイトルの値を変更するには<code>provideメソッド</code>を使用します。</p>

<h3 class="ng-scope">
<i class="icon information" id="term_512"></i> provideメソッド</h3>

<p class="ng-scope"><code>provideメソッド</code>はレイアウトファイルの内容を<code>yield</code>で読み込みビューファイルによって上書きすることができます。例えば、ページ固有のタイトルなどを表示させたい時などに使用します。<br>
個々のビューファイルで<code>provide :title, "個別タイトル"</code>のように記述すればページ固有のタイトルを設定することができます。</p>

<h3 class="ng-scope">【例】</h3>

<div class="code-frame ng-scope" data-lang="html">
<div class="code-lang"><span class="bold">show.html.erb(個別のビューファイル)</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1</pre></div></td>
<td class="code">
<div class="highlight"><pre><span class="err">&lt;</span>% provide :title, "マイページ" %&gt; # provideメソッドを使って、`マイページ`という個別のタイトルを設定します
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">レイアウトファイルでは設定されたタイトルを<code>yield</code>で表示します。</p>

<h3 class="ng-scope">【例】</h3>

<div class="code-frame ng-scope" data-lang="html">
<div class="code-lang"><span class="bold">application.html.erb(レイアウトファイル)</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td>
<td class="code">
<div class="highlight"><pre><span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;title&gt;</span>Pictweet | <span class="err">&lt;</span>%= yield :title %&gt;<span class="nt">&lt;/title&gt;</span> # レイアウトファイルでは設定された`マイページ`というタイトルをyieldで表示します
<span class="nt">&lt;/head&gt;</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">結果として以下のような<code>HTML</code>が生成されます。</p>

<h3 class="ng-scope">【例】</h3>

<div class="code-frame ng-scope" data-lang="html">
<div class="code-lang"><span class="bold">HTML</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td>
<td class="code">
<div class="highlight"><pre><span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;title&gt;</span>Pictweet | マイページ<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<p class="ng-scope">デフォルトでは、<strong>application.html.erb</strong>がレイアウトファイルとして使われていますね。今はページ固有のタイトルを表示させたいので<code>/app/views/layouts/application.html.erb</code>の&lt;head&gt;タグの内の&lt;title&gt;タグで<code>yield</code>を使用します。</p>

<h3 class="ng-scope">
<i class="icon pen"></i> <code>/app/views/layouts/application.html.erb</code>を以下のように更新してください。</h3>

<div class="code-frame ng-scope" data-lang="html">
<div class="code-lang"><span class="bold">/app/views/layouts/application.html.erb</span></div>
<table class="highlighttable"><tbody><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td>
<td class="code">
<div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"ja"</span><span class="nt">&gt;</span>
&nbsp;&nbsp;<span class="nt">&lt;head&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span><span class="nt">&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"X-UA-Compatible"</span> <span class="na">content=</span><span class="s">"IE=Edge,chrome=1"</span><span class="nt">&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1.0"</span><span class="nt">&gt;</span>
<span class="hll">&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&lt;title&gt;</span>Profy<span class="err">&lt;</span>%= yield :title %&gt;<span class="nt">&lt;/title&gt;</span>
</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="err">&lt;</span>%= csrf_meta_tags %&gt;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="err">&lt;</span>%= stylesheet_link_tag&nbsp;&nbsp;&nbsp; 'application', media: 'all', 'data-turbolinks-track' =&gt; true %&gt;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="err">&lt;</span>%= javascript_include_tag 'application', 'data-turbolinks-track' =&gt; true %&gt;
&nbsp;&nbsp;<span class="nt">&lt;/head&gt;</span>
&nbsp;&nbsp;<span class="nt">&lt;body&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="err">&lt;</span>%= render partial: 'common/header' %&gt;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-lg-12"</span><span class="nt">&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="err">&lt;</span>%= bootstrap_flash %&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="err">&lt;</span>%= yield %&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&lt;/div&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&lt;/div&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&lt;footer</span> <span class="na">class=</span><span class="s">"row text-center"</span><span class="nt">&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&lt;p&gt;</span>(C) Profy 2015<span class="nt">&lt;/p&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&lt;/footer&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&lt;/div&gt;</span>
&nbsp;&nbsp;<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</td>
</tr></tbody></table>
</div>

<ul class="ng-scope">
<li>7行目</li>
</ul>

<p class="ng-scope"><code>yield :title</code>の部分に、これから各ページで設定する<code>provide :title, "個別タイトル"</code>が対応し、ページ個別のタイトルが挿入されます。</p>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="653" action="http://master.tech-camp.in/curriculums/204#">
  <h4 class="ng-binding">
    <i class="icon check_icon_01"></i>作業チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-864" ng-repeat="check in checkbox.checks"><input class="ng-pristine ng-untouched ng-valid" id="check-864" name="check-864" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">/app/views/layouts/application.html.erbを編集できた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<h2 id="9" class="ng-scope">個々のビューファイルに固有のタイトルを設定する</h2>

<p class="ng-scope">個々のビューファイルで<code>provideメソッド</code>を使用して、タイトルの表示を設定します。Profyには複数のページが存在しますが、ここでは<br>
<strong>マイページ</strong>、<strong>グループページ</strong>、<strong>プロフィール編集ページ</strong>、<strong>グループ情報編集ページ</strong>の4つのページにそれぞれのタイトルを設定しましょう。</p>

<table class="ng-scope">
<thead>
<tr>
<th style="text-align: left;">ページ</th>
<th style="text-align: left;">タイトル</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">マイページ</td>
<td style="text-align: left;">Profy｜田中 太郎さん</td>
</tr>
<tr>
<td style="text-align: left;">グループページ</td>
<td style="text-align: left;">Profy｜techcamp</td>
</tr>
<tr>
<td style="text-align: left;">プロフィール編集ページ</td>
<td style="text-align: left;">Profy｜プロフィール編集</td>
</tr>
<tr>
<td style="text-align: left;">グループ情報編集ページ</td>
<td style="text-align: left;">Profy｜グループ情報編集</td>
</tr>
</tbody>
</table>

<div class="challenge ng-scope">
  <h3>
<i class="icon crown"></i> 問題3：各ページに個別のタイトルを設定しましょう</h3>

  <h5>作業ファイル1：/app/views/users/以下 show.html.erb, edit.html.erb</h5>
  <h5>作業ファイル2：/app/views/groups/以下 show.html.erb, edit.html.erb</h5>
  <h5>ヒント1： 直前で学習したprovideメソッドを活用してみましょう。</h5>
  <h5>ヒント2： マイページとグループページは、各ユーザーに対応して表示する名前が変わるようにしましょう。</h5>

  <curriculum-question-container class="ng-scope" data-order="3"><button style="" class="answer ng-hide" ng-click="show_answer()" ng-show="isSolved">解答と解説を見る</button><button class="solve ng-binding" ng-click="solve()" ng-hide="isSolved">課題を解く</button><button style="" class="solved ng-hide" ng-click="solved()" ng-show="isSolving">解けた</button>
</curriculum-question-container>
</div>

<h3 class="ng-scope">
<i class="icon pen"></i> 各ページのタイトルが変わっている事を確認してください。</h3>

<p class="ng-scope"><img src="title.png" alt="各ページのタイトル確認(マイページ)"></p>

<p class="ng-scope"><form class="ng-pristine ng-valid ng-scope" data-id="654" action="http://master.tech-camp.in/curriculums/204#">
  <h4 class="ng-binding">
    <i class="icon check_icon_01"></i>作業チェック
  </h4>
  <!-- ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-865" ng-repeat="check in checkbox.checks"><input class="ng-pristine ng-untouched ng-valid" id="check-865" name="check-865" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">/app/views/users/show.html.erbを編集できた</span></label><!-- end ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-866" ng-repeat="check in checkbox.checks"><input class="ng-pristine ng-untouched ng-valid" id="check-866" name="check-866" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">/app/views/groups/show.html.erbを編集できた</span></label><!-- end ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-867" ng-repeat="check in checkbox.checks"><input class="ng-pristine ng-untouched ng-valid" id="check-867" name="check-867" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">/app/views/users/edit.html.erbを編集できた</span></label><!-- end ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-868" ng-repeat="check in checkbox.checks"><input class="ng-pristine ng-untouched ng-valid" id="check-868" name="check-868" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">/app/views/groups/edit.html.erbを編集できた</span></label><!-- end ngRepeat: check in checkbox.checks --><label class="ng-scope" for="check-869" ng-repeat="check in checkbox.checks"><input class="ng-pristine ng-untouched ng-valid" id="check-869" name="check-869" ng-change="change_checkbox_value(check)" ng-model="check.checked" type="checkbox"><span class="ng-binding" ng-bind-html="check.text">各ページのタイトルが変わっている事を確認できた</span></label><!-- end ngRepeat: check in checkbox.checks -->
</form></p>

<p class="ng-scope"></p><hr class="ng-scope">

<p class="ng-scope">お疲れ様でした。<br>
以上でRails第3章のカリキュラムは終了です。</p>

<p class="ng-scope">本章ではRailsアプリケーション構築の基本的な流れの復習に加え、新たな概念も多数登場しましたね。<br>
その全てを現時点で100%理解している必要はありません。しかし<strong>必ず復習をする習慣をつけ、何度でも見直すようにしましょう</strong>。どれくらい復習に割いていくか、全体進捗の目安は <a href="http://master.tech-camp.in/curriculums/1">Lesson1「事前準備をしよう」</a> にも記載されていますので、参考にしてみてください。</p>

<p class="ng-scope">第3章の内容があいまいな方は、もう一度Profyを作ることが良い復習になります。Railsアプリケーション構築の流れがまだ整理できていないという方は、ためらわずRails第1章を復習しましょう。そもそもクラスやインスタンスといった概念から正確に理解できていないという方は、今のタイミングで再度、Rubyのカリキュラムを見直してみてください。新たな発見があるはずです。</p>

<p class="ng-scope">そうして繰り返し知識を薄塗りしていくことで、最後にはきっと自分の力になります。</p>

<p class="ng-scope"><br><br>
今後も引き続き、頑張っていきましょう！</p>
</div>
          <!-- ngIf: curriculum.short_test -->
        </div>
      </div>
      <div class="col-md-3 col-sm-12" id="curriculumSideContainer">
        <curriculum-side-wrap id="sideWrap">
          <ul style="max-height: 295px;" class="list-group toc-tree" id="curriculumContents">
  <li class="list-group-item disabled">
    目次
  </li>
  <!-- ngRepeat: content in contents --><li class="ng-scope" ng-repeat="content in contents">
    <a class="content-link ng-binding current" id="contents1" ng-click="clickContent(content.h1.id)">ページネーションを実装しよう</a>
    <ul class="list-group">
      <!-- ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents2" ng-click="clickContent(h2.id)">1ページあたりに表示する件数を指定する</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents3" ng-click="clickContent(h2.id)">ページネーションのリンクを表示させる</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index -->
    </ul>
  </li><!-- end ngRepeat: content in contents --><li class="ng-scope" ng-repeat="content in contents">
    <a class="content-link ng-binding" id="contents4" ng-click="clickContent(content.h1.id)">質問に答えた人だけが回答を見えるようにする</a>
    <ul class="list-group">
      <!-- ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents5" ng-click="clickContent(h2.id)">質問に答えていない場合の文言をビューに追加する</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents6" ng-click="clickContent(h2.id)">Questionモデルにインスタンスメソッドを定義する</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index -->
    </ul>
  </li><!-- end ngRepeat: content in contents --><li class="ng-scope" ng-repeat="content in contents">
    <a class="content-link ng-binding" id="contents7" ng-click="clickContent(content.h1.id)">ページに応じてタイトルを切り替える</a>
    <ul class="list-group">
      <!-- ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents8" ng-click="clickContent(h2.id)">レイアウトファイルにタイトルのコンテンツを設定する</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index --><li class="ng-scope" ng-repeat="h2 in content.h2 track by $index">
        <a class="content-link ng-binding" id="contents9" ng-click="clickContent(h2.id)">個々のビューファイルに固有のタイトルを設定する</a>
      </li><!-- end ngRepeat: h2 in content.h2 track by $index -->
    </ul>
  </li><!-- end ngRepeat: content in contents -->
</ul>
          <div style="" ng-show="check_count > 0" class="progress_box ng-scope">
  <!-- ngIf: showTroubleShooting() --><p class="terms ng-scope" ng-if="showTroubleShooting()">
    エラーが解決できない時：<br><a href="http://master.tech-camp.in/curriculums/25" target="_brank">トラブルシューティング</a>
  </p><!-- end ngIf: showTroubleShooting() -->
  <!-- ngIf: courseId != 9 && courseId != 10 --><p class="terms ng-scope" ng-if="courseId != 9 &amp;&amp; courseId != 10">
    分からない用語がある時：<br><a href="http://master.tech-camp.in/terms" target="_brank">用語一覧集</a>
  </p><!-- end ngIf: courseId != 9 && courseId != 10 -->
  <h4>
    進捗度<i class="ng-binding" id="numerator">0 / 13<span id="denominaotr"></span></i>
  </h4>
  <div class="progress">
    <div aria-valuemax="100" aria-valuemin="0" aria-valuenow="0" class="pregress-bar progress-bar-info ng-binding" role="progressbar" style="width: 0%;">
      0%
    </div>
  </div>
</div>
          <curriculum-glossary class="ng-hide" ng-show="curriculum.curriculum_type == 2 || curriculum.curriculum_type == 3"></curriculum-glossary>
          <button class="curriculum-report-button" ng-click="show_curriculum_report()">
            <img src="idea.svg" height="20px" width="20px">
            | このカリキュラムへのご要望
          </button>
        </curriculum-side-wrap>
      </div>
    </div>
    <ul style="" class="pager" ng-hide="loading">
  <li class="previous">
    <a style="" class="" ng-click="go_previous()" ng-show="curriculum.previous_id">前のカリキュラム</a>
  </li>
  <li class="next">
    <a class="ng-hide" ng-class="{ disable: curriculum.short_test.can_see_next_curriculum == false }" ng-click="go_next()" ng-show="curriculum.next_id">次のカリキュラム</a>
  </li>
</ul>
  </div>
</curriculum>
<div style="" class="ng-scope ng-isolate-scope ng-hide" id="loading" ng-show="loading">
  <svg height="44" stroke="#444" viewBox="0 0 44 44" width="44" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" strole-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"></animate><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"></animate></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"></animate><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"></animate></circle></g></svg>
</div>

<div class="curriculum-image__modal modal ng-scope" id="curriculum-image__modal" role="dialog" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button class="close" data-dismiss="modal" ng-click="close()"><span aria-hidden="true">×</span></button>
      </div>
      <div class="modal-body">
        <div class="curriculum-image__img__body">
          <img class="curriculum-image__img zoom-out" id="curriculum-image__img">
        </div>
      </div>
    </div>
  </div>
</div>


</div><div class="chat-window ng-scope" ng-controller="SupportChatController" ng-init="init('大宅誠人', '/uploads/noimage.png', 1867, 2988, 0, 'accepted_questions', 'machi4271', '2')"><div aria-hidden="true" aria-labelledby="myLargeModalLabel" class="modal fade" id="chats-modal" role="dialog" tabindex="-1"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="wrapper">
  <header class="chat-header">
    <div class="row">
      <div class="col-md-6 col-xs-12 chat-header-left">
        <h2>
          質問チャット
        </h2>
        <div class="chat-support-state active in-support ng-binding">
          <img src="icn_qsupport.png" width="16">質問受付中
        </div>
      </div>
    </div>
  </header>
  <div class="chat-layout" load-more="load-more">
    <!-- ngRepeat: message in messages -->
  </div>
</div><footer class="chat-footer"><form accept-charset="UTF-8" action="http://master.tech-camp.in/api/chat_messages" class="new_chat_message ng-pristine ng-valid" data-remote="true" enctype="multipart/form-data" id="new_chat_message" method="post" ng_submit="afterSubmitted()"><div style="display: none;"><input name="utf8" value="✓" type="hidden"></div><input id="chat_message_chat_id" name="chat_message[chat_id]" value="2988" type="hidden"><div class="chat-box"><div class="row"><div class="chat-upload col-xs-1"><div class="chat-upload-btn"><img class="chat-upload-icn" src="icn_fileupload.png"><input class="ng-pristine ng-untouched ng-valid" id="chat_message_file" name="chat_message[file]" ng_model="file" onchange="angular.element(this).scope().showSubmitButtonAndHideSkypeButtonAndPreview()" type="file"><div class="chat-uploading-image ng-hide" ng-show="isUploading" ng-style="isUploadingStyle"><div class="image_del ng-hide" ng-click="clearImage()" ng-show="imageDeletable"><img alt="close" src="icon_close_red.svg"></div></div></div></div><div class="chat-textarea col-xs-8"><textarea class="form-control ng-pristine ng-untouched ng-valid" id="chat_message_content" name="chat_message[content]" ng_model="content" placeholder="次のコードの意味がよくわからないので教えていただけないでしょうか？" row="3"></textarea></div><div class="chat-submit col-xs-3"><input style="display: none;" class="submit-btn" id="submit_chat_message" name="commit" value="送信" type="submit"><div class="skype-popup"><a title="" data-original-title="" class="trigger btn btn-default" href="#">Skypeで直接聞く</a><div class="head hide">Skype質問を申請すると<br>担当メンターから着信が届きます。<br>以下の項目をご確認ください。</div><div class="content hide"><p class="ng-binding">あなたのSkypeID:　machi4271<br>質問箇所: <small>※スマートフォン、タブレットでのSkypeはご遠慮ください<br>※通話が始まったらすぐに画面共有をお願いします</small></p><a class="skype-support" href="http://master.tech-camp.in/curriculums/204">Skype質問を申請する</a><div class="close">×</div></div></div></div></div></div></form></footer></div></div></div><div class="chat-dock" ng-click="getMessages(); showModal()">質問サポート<!-- ngIf: unreadSize != 0 --><span class="dock-support-state_text in-support ng-binding"><img class="icn_qsupport" src="icn_qsupport_white.png" width="10">質問受付中</span></div></div></body>
</html>
